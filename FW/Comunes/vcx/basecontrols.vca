SCCTEXT Version 4.0.0.2
PLATFORM C(8,0),UNIQUEID C(10,0),TIMESTAMP N(10,0),CLASS M(4,0),CLASSLOC M(4,0),BASECLASS M(4,0),OBJNAME M(4,0),PARENT M(4,0),PROPERTIES M(4,0),PROTECTED M(4,0),METHODS M(4,0),OBJCODE M(4,0),OLE M(4,0),OLE2 M(4,0),RESERVED1 M(4,0),RESERVED2 M(4,0),RESERVED3 M(4,0),RESERVED4 M(4,0),RESERVED5 M(4,0),RESERVED6 M(4,0),RESERVED7 M(4,0),RESERVED8 M(4,0),USER M(4,0)
1252

[ RECORD]
[PLATFORM] COMMENT 
[UNIQUEID] Class     
[START RESERVED1]
VERSION =   3.00[END RESERVED1]

[ RECORD]
[PLATFORM] WINDOWS 
[UNIQUEID] _1FA0R8WG0
[CLASS] checkbox
[BASECLASS] checkbox
[OBJNAME] prxcheckbox
[START PROPERTIES]
Height = 27
Width = 100
Alignment = 0
BackStyle = 0
Caption = "Check1"
Value = .F.
PicturePosition = 1
_memberdata =     3262<VFPData><memberdata name="fontsize" type="Property" favorites="True"/><memberdata name="height" type="Property" favorites="True"/><memberdata name="width" type="Property" favorites="True"/><memberdata name="backstyle" type="property" favorites="True"/><memberdata name="caption" type="property" favorites="True"/><memberdata name="fontname" type="property" favorites="True"/><memberdata name="fontsize_assign" type="method" display="FontSize_Assign"/><memberdata name="name" type="property" favorites="True"/><memberdata name="tabindex" type="property" favorites="True"/><memberdata name="tabstop" type="property" favorites="True"/><memberdata name="tooltiptext" type="property" favorites="True"/><memberdata name="wordwrap" type="property" favorites="True"/><memberdata name="lvisible" type="property" display="lVisible"/><memberdata name="ltabstop" type="property" display="lTabStop"/><memberdata name="autofit" type="method" display="Autofit"/><memberdata name="lautosetup" type="property" display="lAutoSetup" favorites="True"/><memberdata name="lkeepplace" type="property" display="lKeepPlace" favorites="True" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'lKeepPlace'"/><memberdata name="lperformautosetup" type="property" display="lPerformAutoSetup" favorites="True" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'lPerformAutoSetup'"/><memberdata name="lsamerowasprevious" type="property" display="lSameRowAsPrevious" favorites="True" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'lSameRowAsPrevious'"/><memberdata name="ncol" type="property" display="nCol" favorites="True" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'nCol'"/><memberdata name="ncolspan" type="property" display="nColSpan" favorites="True" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'nColSpan'"/><memberdata name="nrow" type="property" display="nRow" favorites="True" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'nRow'"/><memberdata name="nrowspan" type="property" display="nRowSpan" favorites="True" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'nRowSpan'"/><memberdata name="autosetup" type="method" display="AutoSetup"/><memberdata name="getcontrolmesures" type="method" display="GetControlMesures"/><memberdata name="autoalign" type="method" display="AutoAlign"/><memberdata name="classbeforeautosetup" type="method" display="ClassBeforeAutoSetup"/><memberdata name="hookbeforeautosetup" type="method" display="HookBeforeAutoSetup"/><memberdata name="hookafterautosetup" type="method" display="HookAfterAutoSetup"/><memberdata name="classafterautosetup" type="method" display="ClassAfterAutoSetup"/><memberdata name="lforcereadonly" type="property" display="lForceReadOnly" favorites="True"/><memberdata name="lforcereadonly_assign" type="property" display="lForceReadOnly_Assign"/><memberdata name="nlength" display="nLength"/></VFPData>
lvisible = .T.
ltabstop = .T.
lautosetup = .F.
lkeepplace = .F.
lperformautosetup = .T.
lsamerowasprevious = .F.
ncol = 0
ncolspan = 1
nrow = 0
nrowspan = 1
lforcereadonly = .F.
nlength = 0
Name = "prxcheckbox"
[END PROPERTIES]
[START PROTECTED]
classbeforeautosetup
classafterautosetup
[END PROTECTED]
[START METHODS]
PROCEDURE Init
* @TODO Utilizar GlobalSettings
Local lcCommand As String

Try

	lcCommand = ""


	If Vartype( _Screen.oApp ) == "O"
		This.FontSize = This.FontSize + _Screen.oApp.nUpdateFontSize
	Endif

Catch To oErr
Finally

Endtry

ENDPROC
PROCEDURE KeyPress
LPARAMETERS nKeyCode, nShiftAltCtrl

Thisform.KeyPress( nKeyCode, nShiftAltCtrl )
ENDPROC
PROCEDURE MouseDown
Lparameters nButton, nShift, nXCoord, nYCoord

Thisform.MouseDown( nButton, nShift, nXCoord, nYCoord )

ENDPROC
PROCEDURE When

Return ! This.lForceReadOnly

ENDPROC
PROCEDURE fontsize_assign
Lparameters vNewVal As Integer
Local lnOldValue As Integer
Try
    lnOldValue = This.FontSize
    This.FontSize = m.vNewVal
Catch To oErr
    This.FontSize = lnOldValue
Finally
Endtry

ENDPROC
PROCEDURE lforcereadonly_assign
Lparameters vNewVal As Boolean

This.lForceReadOnly = m.vNewVal

If m.vNewVal
    This.ReadOnly = m.vNewVal

Endif && m.vNewVal



ENDPROC
[END METHODS]
[START RESERVED1]
Class[END RESERVED1]
[START RESERVED2]
1[END RESERVED2]
[START RESERVED3]
_memberdata XML Metadata for customizable properties
lvisible
ltabstop
lautosetup
lkeepplace
lperformautosetup
lsamerowasprevious
ncol
ncolspan
nrow
nrowspan
lforcereadonly Fuerza que el control no tome el foco
nlength
*fontsize_assign 
*autofit Auto-resizes one or all visible grid columns.
*autosetup 
*getcontrolmesures 
*autoalign 
*classbeforeautosetup 
*hookbeforeautosetup 
*hookafterautosetup 
*classafterautosetup 
*lforcereadonly_assign 
[END RESERVED3]
[START RESERVED6]
Pixels[END RESERVED6]

[ RECORD]
[PLATFORM] COMMENT 
[UNIQUEID] RESERVED  
[OBJNAME] prxcheckbox
[START PROPERTIES]
Arial, 0, 9, 5, 15, 12, 32, 3, 0
[END PROPERTIES]

[ RECORD]
[PLATFORM] WINDOWS 
[UNIQUEID] _1FA0RAAW4
[CLASS] combobox
[BASECLASS] combobox
[OBJNAME] prxcombobox
[START PROPERTIES]
BoundColumn = 2
ColumnCount = 2
Value = 0
ColumnLines = .F.
Margin = 2
Style = 2
Width = 150
BoundTo = .T.
_memberdata =     2840<VFPData><memberdata name="fontbold" type="Property" favorites="True"/><memberdata name="fontsize" type="Property" favorites="True"/><memberdata name="height" type="Property" favorites="True"/><memberdata name="margin" type="Property" favorites="True"/><memberdata name="autofit" type="method" display="AutoFit"/><memberdata name="lvisible" type="property" display="lVisible"/><memberdata name="ltabstop" type="property" display="lTabStop"/><memberdata name="fontname" type="property" favorites="True"/><memberdata name="fontsize_assign" type="method" display="FontSize_Assign" favorites="True"/><memberdata name="value_assign" type="method" display="Value_Assign"/><memberdata name="nlength" type="property" display="nLength"/><memberdata name="lautosetup" type="property" display="lAutoSetup" favorites="True"/><memberdata name="lkeepplace" type="property" display="lKeepPlace" favorites="True"/><memberdata name="lperformautosetup" type="property" display="lPerformAutoSetup" favorites="True" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'lPerformAutoSetup'"/><memberdata name="lsamerowasprevious" type="property" display="lSameRowAsPrevious" favorites="True" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'lSameRowAsPrevious'"/><memberdata name="ncol" type="property" display="nCol" favorites="True" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'nCol'"/><memberdata name="ncolspan" type="property" display="nColSpan" favorites="True" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'nColSpan'"/><memberdata name="nrow" type="property" display="nRow" favorites="True" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'nRow'"/><memberdata name="nrowspan" type="property" display="nRowSpan" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'nRowSpan'"/><memberdata name="autosetup" type="method" display="AutoSetup"/><memberdata name="getcontrolmesures" type="method" display="GetControlMesures"/><memberdata name="autoalign" type="method" display="AutoAlign"/><memberdata name="classbeforeautosetup" type="method" display="ClassBeforeAutoSetup"/><memberdata name="hookbeforeautosetup" type="method" display="HookBeforeAutoSetup"/><memberdata name="hookafterautosetup" type="method" display="HookAfterAutoSetup"/><memberdata name="classafterautosetup" type="method" display="ClassAfterAutoSetup"/><memberdata name="lforcereadonly" type="property" display="lForceReadOnly"/><memberdata name="lforcereadonly_assign" type="method" display="lForceReadOnly_Assign"/></VFPData>

lvisible = .T.
ltabstop = .T.
nlength = 0
lautosetup = .T.
lkeepplace = .F.
lperformautosetup = .T.
lsamerowasprevious = .F.
ncol = 0
ncolspan = 0
nrow = 0
nrowspan = 0
lforcereadonly = .F.
Name = "prxcombobox"
[END PROPERTIES]
[START PROTECTED]
classbeforeautosetup
classafterautosetup
[END PROTECTED]
[START METHODS]
PROCEDURE Destroy
This.RowSourceType = 0
This.RowSource = ""
ENDPROC
PROCEDURE Init
Local lcCommand As String

Try

	lcCommand = ""

	This.FontSize = This.FontSize + Thisform.oGlobalSettings.oApp.nUpdateFontSize


Catch To oErr
Finally

Endtry

ENDPROCPROCEDURE InteractiveChange

This.ToolTipText = Alltrim( This.DisplayValue )

ENDPROC
PROCEDURE KeyPress
LPARAMETERS nKeyCode, nShiftAltCtrl

Thisform.KeyPress( nKeyCode, nShiftAltCtrl )
ENDPROC
PROCEDURE MouseDown
Lparameters nButton, nShift, nXCoord, nYCoord

Thisform.MouseDown( nButton, nShift, nXCoord, nYCoord )

ENDPROC
PROCEDURE When

Return ! This.lForceReadOnly

ENDPROC
PROCEDURE autofit
Lparameters tnExtraLen As Integer, tnExtraHeight As Integer

Local loTP As Object


Try
    With This As prxcombobox Of fw\comunes\vcx\BaseControls.vcx
        If Empty( .InputMask ) And Empty( .nLength )
            If Pemstatus( .Parent, "nLength", 5 )
                If Empty( .Parent.nLength )
                    Assert .F. Message .Parent.Name + ": Debe definir la propiedad nLength"
                Else
                    .nLength = .Parent.nLength
                Endif
            Else
                Assert .F. Message .Name + ": Debe definir la propiedad InputMask o nLength"
            Endif
        Endif
        tnExtraLen = IfEmpty( tnExtraLen, 0 )
        loTP = Newobject( "TextProperties", "txtProperties.prg" )
        If ! loTP.Process( This, tnExtraLen, tnExtraHeight )
            loError = Thisform.oError
            Thisform.cXMLoError = loError.Process( loTP.oError )
            Throw loError
        Endif
    EndWith

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Process( oErr )
	Throw loError

Finally
    loTP = Null

Endtry

ENDPROC
PROCEDURE fontsize_assign
Lparameters vNewVal as Integer
Local lnOldValue as Integer
Try
	lnOldValue = This.FontSize
	This.FontSize = m.vNewVal
Catch To oErr
	This.FontSize = lnOldValue
Finally
Endtry
ENDPROC
PROCEDURE lforcereadonly_assign
Lparameters tuNewValue As Boolean

This.lForceReadOnly = tuNewValue

If tuNewValue
	This.ReadOnly = tuNewValue

EndIf && tuNewValue

ENDPROC
PROCEDURE value_assign
Lparameters vNewVal as Variant

This.Value = m.vNewVal

ENDPROC
[END METHODS]
[START RESERVED1]
Class[END RESERVED1]
[START RESERVED2]
1[END RESERVED2]
[START RESERVED3]
_memberdata XML Metadata for customizable properties
length
lvisible
ltabstop
nlength
lautosetup Indica que el control cumple la interfaz necesaria para el proceso Autosetup (Tentativamente), los controles que tengan esta propiedad en .F. no son tenidos en cuenta durente el proceso AutoSetup
lkeepplace Indica que el control ocupa espacio aunque este invisible.
lperformautosetup Indica si durante el proceso AutoSetup se llama al metodo AutoSetup del control.
lsamerowasprevious Indica si el control va en la misma fila que el control anterior.
ncol Se calcula en el proceso del armado de la matriz. Indica la coordenada de la posicion del control en la matriz
ncolspan Indica cuantas columnas ocupa el control.
nrow Se calcula en el proceso del armado de la matriz. Indica la coordenada de la posicion del control en la matriz
nrowspan Indica cuantas filas ocupa el control.
lforcereadonly Fuerza que el control no tome el foco
*fontsize_assign 
*autofit Auto-resizes one or all visible grid columns.
*value_assign 
*autosetup Cada control contenedor debe implementar su propio metodo AutoSetup para determinar como se ordenan los controles contenidos.
*getcontrolmesures Devuelve un Objeto con la información del tamaño del control y de algunas caracteristicas de los controles contenidos. Actualmente el objeto de retorno se adapta a las necesidades de los controles de la libreria inputboxes.vcx
*autoalign Cada control contenedor debe implementar su propio metodo AutoAlign para terminar de acomodar los controles contenidos en base al parametro recibido con los maximos calculados para todos los contenedores.
*classbeforeautosetup 
*hookbeforeautosetup 
*hookafterautosetup 
*classafterautosetup 
*lforcereadonly_assign 
[END RESERVED3]
[START RESERVED6]
Pixels[END RESERVED6]

[ RECORD]
[PLATFORM] COMMENT 
[UNIQUEID] RESERVED  
[OBJNAME] prxcombobox
[START PROPERTIES]
Arial, 0, 9, 5, 15, 12, 32, 3, 0
[END PROPERTIES]

[ RECORD]
[PLATFORM] WINDOWS 
[UNIQUEID] _1FA0RBPBW
[CLASS] commandbutton
[BASECLASS] commandbutton
[OBJNAME] prxcommandbutton
[START PROPERTIES]
Height = 27
Width = 100
Caption = ""
PicturePosition = 1
_memberdata =     1312<VFPData><memberdata name="width" type="Property" favorites="True"/><memberdata name="lautosetup" type="property" display="lAutoSetup" favorites="True"/><memberdata name="samerowasprevious" type="property" display="SameRowAsPrevious"/><memberdata name="handleevents" type="method" display="HandleEvents"/><memberdata name="classbeforeinit" type="method" display="ClassBeforeInit"/><memberdata name="hookbeforeinit" type="method" display="HookBeforeInit"/><memberdata name="classafterinit" type="method" display="ClassAfterInit"/><memberdata name="hookafterinit" type="method" display="HookAfterInit"/><memberdata name="classbeforeclick" type="method" display="ClassBeforeClick"/><memberdata name="hookbeforeclick" type="method" display="HookBeforeClick"/><memberdata name="fontsize_assign" type="method" display="FontSize_Assign"/><memberdata name="lvisible" type="property" display="lVisible"/><memberdata name="ltabstop" type="property" display="lTabStop"/><memberdata name="lsamerowasprevious" type="property" display="lSameRowAsPrevious" favorites="True"/><memberdata name="nrow" type="property" display="nRow"/><memberdata name="nrowspan" type="property" display="nRowSpan"/><memberdata name="ncol" type="property" display="nCol"/><memberdata name="ncolspan" type="property" display="nColSpan"/></VFPData>

lautosetup = .F.
lsamerowasprevious = .F.
lvisible = .T.
ltabstop = .T.
nrow = 0
nrowspan = 1
ncol = 0
ncolspan = 1
Name = "prxcommandbutton"
[END PROPERTIES]
[START METHODS]
PROCEDURE Init
Local lcCommand As String

Try

	lcCommand = ""


	With This As prxcommandbutton Of fw\comunes\vcx\BaseControls.vcx
		If .ClassBeforeInit()
			If .HookBeforeInit()
				.FontSize = .FontSize + Thisform.oGlobalSettings.oApp.nUpdateFontSize
				.HookAfterInit()
				.ClassAfterInit()
			Endif
		Endif
	Endwith

Catch To oErr
Finally
EndTry

Return .T.

ENDPROC
PROCEDURE KeyPress
LPARAMETERS nKeyCode, nShiftAltCtrl

Thisform.KeyPress( nKeyCode, nShiftAltCtrl )
ENDPROC
PROCEDURE classbeforeinit

Return .T.

ENDPROC
PROCEDURE fontsize_assign
Lparameters vNewVal As Integer

Local lnOldValue As Integer
Try
    With This As prxcommandbutton Of fw\comunes\vcx\BaseControls.vcx
        lnOldValue = .FontSize
        .FontSize = m.vNewVal
    Endwith
Catch To oErr
    This.FontSize = lnOldValue
Finally
Endtry

ENDPROC
PROCEDURE handleevents
Lparameters toCtrl as Object, tuParam as Variant

*!*	Recibe al objeto que generó el evento, generalmente un control, y un
*!*	parámetro opcional, de cualquier tipo (generalmente un objeto Empty)
*!*	Con una estructura DO CASE verifica si debe realizarse alguna acción

*!*	BindEvent( ThisForm, "HandleEvents", This, "HandleEvents" )


ENDPROC
PROCEDURE hookbeforeinit

Return .T.

ENDPROC
[END METHODS]
[START RESERVED1]
Class[END RESERVED1]
[START RESERVED2]
1[END RESERVED2]
[START RESERVED3]
_memberdata XML Metadata for customizable properties
lautosetup Indica se el objeto se incluye en la colección de objetos que se autodimensionan
lsamerowasprevious
lvisible
ltabstop
nrow
nrowspan
ncol
ncolspan
*fontsize_assign 
*handleevents 
*classbeforeinit 
*hookbeforeinit 
*classafterinit 
*hookafterinit 
*classbeforeclick 
*hookbeforeclick 
[END RESERVED3]
[START RESERVED6]
Pixels[END RESERVED6]

[ RECORD]
[PLATFORM] COMMENT 
[UNIQUEID] RESERVED  
[OBJNAME] prxcommandbutton
[START PROPERTIES]
Arial, 0, 9, 5, 15, 12, 32, 3, 0
[END PROPERTIES]

[ RECORD]
[PLATFORM] WINDOWS 
[UNIQUEID] _1FA0RCVIT
[CLASS] commandgroup
[BASECLASS] commandgroup
[OBJNAME] prxcommandgroup
[START PROPERTIES]
ButtonCount = 2
Value = 1
Height = 66
Width = 92
_memberdata =     2382<VFPData><memberdata name="lautosetup" type="property" display="lAutoSetup" favorites="True" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'lAutoSetup'"/><memberdata name="lkeepplace" type="property" display="lKeepPlace" favorites="True" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'lKeepPlace'"/><memberdata name="lperformautosetup" type="property" display="lPerformAutoSetup" favorites="True" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'lPerformAutoSetup'"/><memberdata name="lsamerowasprevious" type="property" display="lSameRowAsPrevious" favorites="True" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'lSameRowAsPrevious'"/><memberdata name="ncol" type="property" display="nCol" favorites="True" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'nCol'"/><memberdata name="ncolspan" type="property" display="nColSpan" favorites="True" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'nColSpan'"/><memberdata name="nrow" type="property" display="nRow" favorites="True" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'nRow'"/><memberdata name="nrowspan" type="property" display="nRowSpan" favorites="True" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'nRowSpan'"/><memberdata name="autosetup" type="method" display="AutoSetup"/><memberdata name="getcontrolmesures" type="method" display="GetControlMesures"/><memberdata name="autoalign" type="method" display="AutoAlign"/><memberdata name="classbeforeautosetup" type="method" display="ClassBeforeAutoSetup"/><memberdata name="hookbeforeautosetup" type="method" display="HookBeforeAutoSetup"/><memberdata name="hookafterautosetup" type="method" display="HookAfterAutoSetup"/><memberdata name="classafterautosetup" type="method" display="ClassAfterAutoSetup"/><memberdata name="lforcereadonly" type="property" display="lForceReadOnly"/><memberdata name="lforcereadonly_assign" type="method" display="lForceReadOnly_Assign"/></VFPData>

lautosetup = .T.
lkeepplace = .F.
lperformautosetup = .T.
lsamerowasprevious = .F.
ncol = 0
ncolspan = 1
nrow = 0
nrowspan = 1
lforcereadonly = .F.
Name = "prxcommandgroup"
Command1.Top = 5
Command1.Left = 5
Command1.Height = 27
Command1.Width = 84
Command1.Caption = "Command1"
Command1.Name = "Command1"
Command2.Top = 34
Command2.Left = 5
Command2.Height = 27
Command2.Width = 84
Command2.Caption = "Command2"
Command2.Name = "Command2"
[END PROPERTIES]
[START PROTECTED]
classbeforeautosetup
classafterautosetup
[END PROTECTED]
[START METHODS]
PROCEDURE lforcereadonly_assign
Lparameters tuNewValue As Boolean

This.lForceReadOnly = tuNewValue
This.SetAll( 'lForceReadOnly', tuNewValue )

ENDPROC
[END METHODS]
[START RESERVED1]
Class[END RESERVED1]
[START RESERVED2]
1[END RESERVED2]
[START RESERVED3]
_memberdata XML Metadata for customizable properties
lautosetup Indica que el control cumple la interfaz necesaria para el proceso Autosetup (Tentativamente), los controles que tengan esta propiedad en .F. no son tenidos en cuenta durente el proceso AutoSetup.
lkeepplace Indica que el control ocupa espacio aunque este invisible. 
lperformautosetup ndica si durante el proceso AutoSetup se llama al metodo AutoSetup del control.
lsamerowasprevious Indica si el control va en la misma fila que el control anterior.
ncol Se calcula en el proceso del armado de la matriz. Indica la coordenada de la posicion del control en la matriz.
ncolspan Indica cuantas columnas ocupa el control
nrow Se calcula en el proceso del armado de la matriz. Indica la coordenada de la posicion del control en la matriz.
nrowspan Indica cuantas filas ocupa el control.
lforcereadonly Fuerza que el control no tome el foco
*autosetup Cada control contenedor debe implementar su propio metodo AutoSetup para determinar como se ordenan los controles contenidos.
*getcontrolmesures Devuelve un Objeto con la información del tamaño del control y de algunas caracteristicas de los controles contenidos. Actualmente el objeto de retorno se adapta a las necesidades de los controles de la libreria inputboxes.vcx
*autoalign Cada control contenedor debe implementar su propio metodo AutoAlign para terminar de acomodar los controles contenidos en base al parametro recibido con los maximos calculados para todos los contenedores.
*classbeforeautosetup 
*hookbeforeautosetup 
*hookafterautosetup 
*classafterautosetup 
*lforcereadonly_assign 
[END RESERVED3]
[START RESERVED6]
Pixels[END RESERVED6]

[ RECORD]
[PLATFORM] COMMENT 
[UNIQUEID] RESERVED  
[OBJNAME] prxcommandgroup
[START PROPERTIES]
Arial, 0, 9, 5, 15, 12, 32, 3, 0
[END PROPERTIES]

[ RECORD]
[PLATFORM] WINDOWS 
[UNIQUEID] _1FA0RD6FW
[CLASS] container
[BASECLASS] container
[OBJNAME] prxcontainer
[START PROPERTIES]
Width = 200
Height = 200
_memberdata =     4121<VFPData><memberdata name="autofit" type="method" display="Autofit"/><memberdata name="classafterautosetup" type="method" display="ClassAfterAutosetup"/><memberdata name="classafterinit" type="method" display="ClassAfterInit"/><memberdata name="classbeforeautosetup" type="method" display="ClassBeforeAutosetup"/><memberdata name="classbeforeinit" type="method" display="ClassBeforeInit"/><memberdata name="documentacion" type="method" favorites="True"/><memberdata name="getmeasures" type="method" display="GetMeasures"/><memberdata name="handleevents" type="method" display="HandleEvents"/><memberdata name="hookafterautosetup" type="method" display="HookAfterAutosetup"/><memberdata name="hookafterinit" type="method" display="HookAfterInit"/><memberdata name="hookbeforeautosetup" type="method" display="HookBeforeAutosetup"/><memberdata name="hookbeforeinit" type="method" display="HookBeforeInit"/><memberdata name="lautosetup" type="property" display="lAutoSetup" favorites="True"/><memberdata name="loldPerformAutoSetUp" type="property" display="loldPerformAutoSetUp" favorites="True"/><memberdata name="lPerformAutoSetUp" type="property" display="lPerformAutoSetUp" favorites="True"/><memberdata name="lsubscribetohandleevents" type="property" display="lSubscribeToHandleEvents" favorites="True"/><memberdata name="nbottompadding" type="property" display="nBottomPadding" favorites="True"/><memberdata name="ncol" type="property" display="nCol" favorites="True"/><memberdata name="ncolspan" type="property" display="nColSpan" favorites="True"/><memberdata name="ngap" type="property" display="nGap" favorites="True"/><memberdata name="nleftpadding" type="property" display="nLeftPadding" favorites="True"/><memberdata name="nrightpadding" type="property" display="nRightPadding" favorites="True"/><memberdata name="nrow" type="property" display="nRow"/><memberdata name="nrowspan" type="property" display="nRowSpan" favorites="True"/><memberdata name="ntoppadding" type="property" display="nTopPadding" favorites="True"/><memberdata name="ocolobjects" type="property" display="oColObjects"/><memberdata name="performautofit" type="property" display="PerformAutofit"/><memberdata name="releaseobjects" type="method" display="ReleaseObjects"/><memberdata name="resalttitle" type="method" display="ResaltTitle"/><memberdata name="resalttittle" type="method" display="ResaltTittle"/><memberdata name="setup" type="method" display="Setup"/><memberdata name="oimagelist" type="property" display="oImageList"/><memberdata name="oimagelist_access" type="method" display="oImageList_Access"/><memberdata name="lisok" type="property" display="lIsOk" favorites="True"/><memberdata name="lkeepplace" type="property" display="lKeepPlace" favorites="True"/><memberdata name="noldanchor" type="property" display="nOldAnchor"/><memberdata name="anchorstatus" type="method" display="AnchorStatus"/><memberdata name="lperformautosetup" type="property" display="lPerformAutoSetup" favorites="True"/><memberdata name="setupentity" display="SetupEntity"/><memberdata name="classaftersetupentity" display="ClassAfterSetupEntity"/><memberdata name="classbeforesetupentity" display="ClassBeforeSetupEntity"/><memberdata name="hookaftersetupentity" display="HookAfterSetupEntity"/><memberdata name="hookbeforesetupentity" display="HookBeforeSetupEntity"/><memberdata name="lforcereadonly" type="property" display="lForceReadOnly" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'lForceReadOnly'"/><memberdata name="lforcereadonly_assign" type="method" display="lForceReadOnly_Assign"/><memberdata name="fittoparent" type="method" display="FitToParent"/><memberdata name="lfittoparent" type="property" display="lFitToParent" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'lFitToParent'" favorites="True"/><memberdata name="nfitmode" type="property" display="nFitMode" favorites="True" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'nFitMode'"/></VFPData>
ocolobjects = .F.
lsubscribetohandleevents = .F.
loldperformautosetup = .F.
ntoppadding = 8
nbottompadding = 8
nleftpadding = 8
nrightpadding = 8
lperformautosetup = .T.
ncolspan = 1
nrowspan = 1
nrow = 0
ncol = 0
ngap = 8
oimagelist = .NULL.
lisok = .T.
lkeepplace = .F.
noldanchor = 0
lforcereadonly = .F.
lfittoparent = .F.
nfitmode = 15
Name = "prxcontainer"
[END PROPERTIES]
[START PROTECTED]
classaftersetupentity
classbeforesetupentity
[END PROTECTED]
[START METHODS]
PROCEDURE Init

Try
	With This As prxcontainer Of "fw\comunes\vcx\BaseControls.vcx"
		If Thisform.lIsOk And .ClassBeforeInit()
			If .HookBeforeInit()
				If .lSubscribeToHandleEvents
					Bindevent( Thisform, "HandleEvents", This, "HandleEvents" )
				Endif
				.HookAfterInit()
				.ClassAfterInit()
			Endif
		Endif
	Endwith

Catch To oErr
	
Finally
	
Endtry

Return .T.
ENDPROC
PROCEDURE MouseDown
Lparameters nButton, nShift, nXCoord, nYCoord

Thisform.MouseDown( nButton, nShift, nXCoord, nYCoord )

ENDPROCPROCEDURE anchorstatus
Lparameters tnSave As Boolean

Try
	If tnSave
		This.nOldAnchor = This.Anchor
		This.Anchor = 0
	Endif

	For Each loCtrl In This.oColObjects
		If Pemstatus( loCtrl, "AnchorStatus", 5 )
			loCtrl.AnchorStatus( tnSave )
		Endif
	Endfor

	If !tnSave
		This.Anchor = This.nOldAnchor
	Endif

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Process( oErr )
	Throw loError

Finally
	loError = Null
	loCtrl = Null

Endtry



ENDPROC
PROCEDURE autosetup
Lparameters tlOnlyPosition As Boolean

Local loAutoSetup As AutoSetUp Of "fw\comunes\prg\autosetup.prg"

Try
	With This As prxcontainer Of "fw\comunes\vcx\BaseControls.vcx"
		If .ClassBeforeAutosetup( tlOnlyPosition )
			If .HookBeforeAutosetup( tlOnlyPosition )

				* DAE 2009-08-21(16:58:23)
				*!*	If Vartype( .oColObjects ) # "O"
				*!*		.oColObjects = OrderControlsByKey( This )
				*!*
				*!*	EndIf && Vartype( .oColObjects ) # "O"

				loAutoSetup = Newobject( "AutoSetUp", "AutoSetUp.prg" )
				If ! loAutoSetup.Process( This, ;
						.nTopPadding, ;
						.nLeftPadding, ;
						.nRightPadding, ;
						.nBottomPadding, ;
						.nGap )

					*!*						loError = Thisform.oError
					*!*						loError.Process( loAutoSetup.oError )
				Endif

				.HookAfterAutosetup( tlOnlyPosition )
				.ClassAfterAutosetup( tlOnlyPosition )
			Endif
		Endif
	Endwith


Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )

	loError.Process( oErr )
	Throw loError

Finally
	loAutoSetup = Null
Endtry

ENDPROC
PROCEDURE classafterautosetup
Lparameters tlOnlyPosition As Boolean
ENDPROC
PROCEDURE classaftersetupentity
Lparameters toEntity As Object @
ENDPROC
PROCEDURE classbeforeautosetup

Lparameters tlOnlyPosition As Boolean

#If .F.
    TEXT
        *:Help Documentation
		*:Description:
		Evento ClassBeforeAutoSetup permite cancelar la ejecución del metodo AutoSetup
		Template Method
        *:Syntax:
        *:Example:
        *:Events:
        *:NameSpace:
		com.praxis.fw.comunes
        *:Keywords:
        *:Returns:
        .T. Or .F.
        *:SeeAlso:
        prxbase::AutoSetup
        Class AutoSetUp
		*:EndHelp
    ENDTEXT
#Endif


Return .T.

ENDPROC
PROCEDURE classbeforeinit

Return .T.

ENDPROC
PROCEDURE classbeforesetupentity
Lparameters toEntity As Object @

Return .T.
ENDPROC
PROCEDURE fittoparent
Local loAutoSetup As AutoSetUp Of "fw\comunes\prg\autosetup.prg"

Try
	With This As prxcontainer Of "fw\comunes\vcx\BaseControls.vcx"

		loAutoSetup = Newobject( "AutoSetUp", "AutoSetUp.prg" )
		If ! loAutoSetup.FitToParent( This )
			*!*				loError = Thisform.oError
			*!*				loError.Process( loAutoSetup.oError )

		Endif && ! loAutoSetup.FitToParent( This )

	Endwith


Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Process( oErr )
	Throw loError

Finally
	loAutoSetup = Null

Endtry

ENDPROC
PROCEDURE handleevents
Lparameters toCtrl as Object, tuParam as Variant

*!*	Recibe al objeto que generó el evento, generalmente un control, y un
*!*	parámetro opcional, de cualquier tipo (generalmente un objeto Empty)
*!*	Con una estructura DO CASE verifica si debe realizarse alguna acción

*!*	BindEvent( ThisForm, "HandleEvents", This, "HandleEvents" )


ENDPROC
PROCEDURE hookafterautosetup
Lparameters tlOnlyPosition As Boolean
ENDPROC
PROCEDURE hookaftersetupentity
Lparameters toEntity As Object @
ENDPROC
PROCEDURE hookbeforeautosetup

Lparameters tlOnlyPosition As Boolean

#If .F.
    TEXT
        *:Help Documentation
		*:Description:
		Evento HookBeforeAutoSetup permite cancelar la ejecución del metodo AutoSetup
		Template Method
        *:Syntax:
        *:Example:
        *:Events:
        *:NameSpace:
		com.praxis.fw.comunes
        *:Keywords:
		*:Returns:
        .T. Or .F.
        *:SeeAlso:
        prxbase::AutoSetup
        Class AutoSetUp
		*:EndHelp
    ENDTEXT
#Endif

Return .T.

ENDPROC
PROCEDURE hookbeforeinit

Return .T.

ENDPROC
PROCEDURE hookbeforesetupentity
Lparameters toEntity As Object @

Return .T.
ENDPROC
PROCEDURE lforcereadonly_assign
Lparameters tuNewValue As Boolean

This.lForceReadOnly = tuNewValue

ENDPROC
PROCEDURE ocolobjects_access

If Vartype( This.oColObjects ) # "O"
	This.oColObjects = OrderControlsByKey( This )
	
EndIf && Vartype( This.oColObjects ) # "O"

Return This.oColObjects

ENDPROC
PROCEDURE oimagelist_access

Return This.oImageList


ENDPROC
PROCEDURE releaseobjects
Local loObj As Object

Try
	With This As prxcontainer Of FW\Comunes\vcx\BaseControls.vcx
		.oColObjects = Null
		.oImageList = Null
		For Each loObj In .Objects
			If Pemstatus( loObj, 'ReleaseObjects', 5 )
				loObj.ReleaseObjects()
			Endif
		Endfor

	Endwith

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Process( oErr )
	Throw loError

Finally
	loObj = Null

Endtry

ENDPROC
PROCEDURE resalttitle
Lparameters tlResalt As Boolean

*!*	If Pemstatus( This.Parent, "Resaltittle", 5 )
*!*	    This.Parent.ResaltTitle( tlResalt )
*!*	Endif

ENDPROC
PROCEDURE setup
Lparameters toParam As Object

Local laMembers[ 1 ] As String
Local lcProperty As String


Try
	Amembers( laMembers, toParam )
	For Each lcProperty In laMembers
		This.&lcProperty = toParam.&lcProperty.
	Endfor

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Process( oErr )
	Throw loError

Finally
	laMembers = Null
	
Endtry


ENDPROC
PROCEDURE setupentity
Lparameters toEntity As Object @

Try

	With This As prxContainer Of FW\Comunes\vcx\BaseControls.vcx
		If .ClassBeforeSetupEntity( toEntity )
			If .HookBeforeSetupEntity( toEntity )

				Thisform.SetupEntity( toEntity )

				.HookAfterSetupEntity( toEntity )

				.ClassAfterSetupEntity( toEntity )

			Endif
		Endif
	Endwith

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Process( oErr )
	Throw loError


Finally

Endtry

ENDPROC
[END METHODS]
[START RESERVED1]
Class[END RESERVED1]
[START RESERVED2]
1[END RESERVED2]
[START RESERVED3]
_memberdata XML Metadata for customizable properties
lautosetup Indica si el objeto es reubicado automáticamente por el método AutoSetup de su contenedor
ocolobjects Similar a la coleccion Objects, pero ordenada y filtrada por algun criterio
lsubscribetohandleevents Se subscribe al evento Thisform.HandleEvents()
loldperformautosetup
ntoppadding
nbottompadding
nleftpadding
nrightpadding
lperformautosetup Indica si el control ejecuta automaticamente el metodo AutoSetup
ncolspan
nrowspan
nrow
ncol
ngap
oimagelist
lisok
lkeepplace
noldanchor Permite guardar el estado actual de la propiedad Anchor, para ser recuperada más tarde
lforcereadonly Fuerza que el control no tome el foco
lfittoparent Indica si el contenedor se expande
nfitmode La propiedad acepta los siguientes valores ( 1, 2, 4, 8 ) y la combinacion (suma) de alguna de ellas. 1 - FitToLeft | 2 - FitToTop | 4 - FitToRight | 8 - FitToBottom | | Combinaciones: | 5 - FitToWidth | 10 - FitToHeight | 15 - FullFit
*autosetup Auto-resizes one or all visible grid columns.
*resalttitle 
*handleevents Este metodo recibe como parámetro el objeto que generó el evento, y un objeto con parámetros (opcional).  Debe subscribirse al patron Observer en el Init()
*setup 
*documentacion Documentación de la clase
*releaseobjects 
*classbeforeautosetup 
*hookbeforeautosetup 
*hookafterautosetup 
*classafterautosetup 
*classbeforeinit 
*hookbeforeinit 
*hookafterinit 
*classafterinit 
*getmeasures Devuelve un objeto del tipo Measures ControlMeasures de la libreria fw\comunes\prg\autosetup.prg
*oimagelist_access 
*anchorstatus Permite guardar el estado de la propiedad Anchor o recuperar el valor de la misma
*ocolobjects_access 
*setupentity 
*classaftersetupentity 
*classbeforesetupentity 
*hookaftersetupentity 
*hookbeforesetupentity 
*lforcereadonly_assign 
*fittoparent 
[END RESERVED3]
[START RESERVED6]
Pixels[END RESERVED6]

[ RECORD]
[PLATFORM] COMMENT 
[UNIQUEID] RESERVED  
[OBJNAME] prxcontainer

[ RECORD]
[PLATFORM] WINDOWS 
[UNIQUEID] _1FA0RDMG8
[CLASS] control
[BASECLASS] control
[OBJNAME] prxcontrol
[START PROPERTIES]
_memberdata =     2341<VFPData><memberdata name="ncolspan" type="property" display="nColSpan"/><memberdata name="nrowspan" type="property" display="nRowSpan"/><memberdata name="nrow" type="property" display="nRow"/><memberdata name="ncol" type="property" display="nCol"/><memberdata name="ngap" type="property" display="nGap"/><memberdata name="nbottompadding" type="property" display="nBottomPadding"/><memberdata name="nleftpadding" type="property" display="nLeftPadding"/><memberdata name="nrightpadding" type="property" display="nRightPadding"/><memberdata name="ntoppadding" type="property" display="nTopPadding"/><memberdata name="lperformautosetup" type="property" display="lPerformAutosetup"/><memberdata name="lsamerowasprevious" type="property" display="lSameRowAsPrevious"/><memberdata name="lautosetup" type="property" display="lAutoSetup" favorites="True" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'lAutoSetup'"/><memberdata name="lkeepplace" type="property" display="lKeepPlace" favorites="True" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'lKeepPlace'"/><memberdata name="autosetup" type="method" display="AutoSetup"/><memberdata name="getcontrolmesures" type="method" display="GetControlMesures"/><memberdata name="autoalign" type="method" display="AutoAlign"/><memberdata name="classbeforeautosetup" type="method" display="ClassBeforeAutoSetup"/><memberdata name="hookbeforeautosetup" type="method" display="HookBeforeAutoSetup"/><memberdata name="hookafterautosetup" type="method" display="HookAfterAutoSetup"/><memberdata name="classafterautosetup" type="method" display="ClassAfterAutoSetup"/><memberdata name="lforcereadonly" type="property" display="lForceReadOnly" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'lForceReadOnly'"/><memberdata name="lforcereadonly_assign" type="method" display="lForceReadOnly_Assign"/><memberdata name="readonly" type="property" display="ReadOnly" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'ReadOnly'"/><memberdata name="readonly_assign" type="method" display="ReadOnly_Assign"/><memberdata name="setall" type="method" display="SetAll"/></VFPData>

ncolspan = 1
nrowspan = 1
nrow = 0
ncol = 0
ngap = 0
nbottompadding = 0
nleftpadding = 0
nrightpadding = 0
ntoppadding = 0
lperformautosetup = .T.
lsamerowasprevious = .F.
lautosetup = .T.
lkeepplace = .F.
lforcereadonly = .F.
readonly = .F.
Name = "prxcontrol"
[END PROPERTIES]
[START PROTECTED]
classbeforeautosetup
classafterautosetup
[END PROTECTED]
[START METHODS]
PROCEDURE lforcereadonly_assign
Lparameters tuNewValue As Boolean

With This As prxcontrol Of fw\comunes\vcx\prxbase.vcx
	.lForceReadOnly = tuNewValue
	.SetAll( 'lForceReadOnly', tuNewValue )
	If tuNewValue
		.ReadOnly = tuNewValue

	EndIf && tuNewValue

Endwith

ENDPROC
PROCEDURE readonly_assign
Lparameters tuNewValue As Boolean

Local loCtl As Object
Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
Try
	With This As prxcontrol Of fw\comunes\vcx\prxbase.vcx
		.ReadOnly = tuNewValue
		.SetAll( 'ReadOnly', tuNewValue )

	Endwith

Catch To oErr
	loError = Thisform.oError
	Thisform.cXMLoError = loError.Process( oErr )
	Throw loError

Finally
	loError = Thisform.oError
	loError.Cremark = ''
	loError.Ctracelogin = ''
	loError = Null
	loCtl = Null

Endtry

ENDPROC
PROCEDURE setall
Lparameters tcProperty As String, tvValue As Variant, tcClass As String

Local llCheckClass As Boolean
Local llOk As Boolean
Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"

Try

	If ! Empty( tcProperty )

		tcClass = Iif( Empty( tcClass ) Or Vartype( tcClass ) # 'C', '', tcClass )
		llCheckClass = ( ! Empty( tcClass ) )

		With This As prxcontrol Of fw\comunes\vcx\prxbase.vcx
		
			For i = 1 To s.Objects.Count
				loCtl = .Objects[ i ]

				llOk = ! llCheckClass ;
					Or ( Pemstatus( loCtl, 'Class', 5 ) And ( Lower( loCtl.Class ) == Lower( tcClass ) ) )
				*!* If llCheckClass
				*!*		llOk = Pemstatus( loCtl, 'Class', 5 ) And ( Lower( loCtl.Class ) == Lower( tcClass ) )
				*!* Else
				*!*		llOk = .T.
				*!* Endif && llCheckClass

				If llOk And Pemstatus( loCtl, tcProperty, 5 )
					loCtl.&tcProperty. = tvValue

				Endif && Pemstatus( loCtl, tcProperty, 5 )

			EndFor
			
		Endwith

	Endif

Catch To oErr
	loError = Thisform.oError
	Thisform.cXMLoError = loError.Process( oErr )
	Throw loError

Finally
	loError = Thisform.oError
	loError.Cremark = ''
	loError.Ctracelogin = ''
	loError = Null

	loCtl = Null

Endtry

ENDPROC[END METHODS]
[START RESERVED1]
Class[END RESERVED1]
[START RESERVED2]
1[END RESERVED2]
[START RESERVED3]
_memberdata XML Metadata for customizable properties
ncolspan
nrowspan
nrow
ncol
ngap
nbottompadding
nleftpadding
nrightpadding
ntoppadding
lperformautosetup
lsamerowasprevious
lautosetup Indica que el control cumple la interfaz necesaria para el proceso Autosetup (Tentativamente), los controles que tengan esta propiedad en .F. no son tenidos en cuenta durente el proceso AutoSetup.
lkeepplace Indica que el control ocupa espacio aunque este invisible. 
lforcereadonly Fuerza que el control no tome el foco
readonly
*autosetup Cada control contenedor debe implementar su propio metodo AutoSetup para determinar como se ordenan los controles contenidos.
*getcontrolmesures Devuelve un Objeto con la información del tamaño del control y de algunas caracteristicas de los controles contenidos. Actualmente el objeto de retorno se adapta a las necesidades de los controles de la libreria inputboxes.vcx
*autoalign Cada control contenedor debe implementar su propio metodo AutoAlign para terminar de acomodar los controles contenidos en base al parametro recibido con los maximos calculados para todos los contenedores.
*classbeforeautosetup 
*hookbeforeautosetup 
*hookafterautosetup 
*classafterautosetup 
*lforcereadonly_assign 
*readonly_assign 
*setall 
[END RESERVED3]
[START RESERVED6]
Pixels[END RESERVED6]

[ RECORD]
[PLATFORM] COMMENT 
[UNIQUEID] RESERVED  
[OBJNAME] prxcontrol

[ RECORD]
[PLATFORM] WINDOWS 
[UNIQUEID] _1FA0RFDO7
[CLASS] custom
[BASECLASS] custom
[OBJNAME] _prxcustom
[START PROPERTIES]
Name = "prxcustom"
[END PROPERTIES]
[START RESERVED1]
Class[END RESERVED1]
[START RESERVED2]
1[END RESERVED2]
[START RESERVED6]
Pixels[END RESERVED6]

[ RECORD]
[PLATFORM] COMMENT 
[UNIQUEID] RESERVED  
[OBJNAME] _prxcustom

[ RECORD]
[PLATFORM] WINDOWS 
[UNIQUEID] _1FA0RFVR8
[CLASS] dataenvironment
[BASECLASS] dataenvironment
[OBJNAME] prxdataenvironment
[START PROPERTIES]
DataSource = .NULL.
Name = "prxdataenvironment"
[END PROPERTIES]
[START RESERVED1]
Class[END RESERVED1]
[START RESERVED2]
1[END RESERVED2]
[START RESERVED6]
Pixels[END RESERVED6]

[ RECORD]
[PLATFORM] COMMENT 
[UNIQUEID] RESERVED  
[OBJNAME] prxdataenvironment

[ RECORD]
[PLATFORM] WINDOWS 
[UNIQUEID] _1FA0RG7M8
[CLASS] editbox
[BASECLASS] editbox
[OBJNAME] prxeditbox
[START PROPERTIES]
Height = 53
Margin = 2
Width = 150
_memberdata =     3291<VFPData><memberdata name="autofit" type="method" display="AutoFit"/><memberdata name="lenght" type="property" display="Lenght"/><memberdata name="length" type="property" display="Length"/><memberdata name="fontsize" type="Property" favorites="True"/><memberdata name="margin" type="Property" favorites="True"/><memberdata name="width" type="Property" favorites="True"/><memberdata name="fontbold" type="Property" favorites="True"/><memberdata name="lvisible" type="property" display="lVisible"/><memberdata name="ltabstop" type="property" display="lTabStop" favorites="True"/><memberdata name="nlength" type="property" display="nLength" favorites="True"/><memberdata name="anchor" type="property" favorites="True"/><memberdata name="fontsize_assign" type="method" display="FontSize_Assign"/><memberdata name="lautosetup" type="property" display="lAutoSetup" favorites="True" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'lAutoSetup'"/><memberdata name="lkeepplace" type="property" display="lKeepPlace" favorites="True" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'lKeepPlace'"/><memberdata name="lperformautosetup" type="property" display="lPerformAutoSetup" favorites="True" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'lPerformAutoSetup'"/><memberdata name="lsamerowasprevious" type="property" display="lSameRowAsPrevious" favorites="True" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'lSameRowAsPrevious'"/><memberdata name="ncol" type="property" display="nCol" favorites="True" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'nCol'"/><memberdata name="ncolspan" type="property" display="nColSpan" favorites="True" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'nColSpan'"/><memberdata name="nrow" type="property" display="nRow" favorites="True" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'nRow'"/><memberdata name="nrowspan" type="property" display="nRowSpan" favorites="True" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'nRowSpan'"/><memberdata name="autosetup" type="method" display="AutoSetup"/><memberdata name="getcontrolmesures" type="method" display="GetControlMesures"/><memberdata name="autoalign" type="method" display="AutoAlign"/><memberdata name="classbeforeautosetup" type="method" display="ClassBeforeAutoSetup"/><memberdata name="hookbeforeautosetup" type="method" display="HookBeforeAutoSetup"/><memberdata name="hookafterautosetup" type="method" display="HookAfterAutoSetup"/><memberdata name="classafterautosetup" type="method" display="ClassAfterAutoSetup"/><memberdata name="lforcereadonly" type="property" display="lForceReadOnly" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'lForceReadOnly'"/><memberdata name="lforcereadonly_assign" type="method" display="lForceReadOnly_Assign"/></VFPData>

lvisible = .T.
ltabstop = .T.
nlength = 0
lautosetup = .T.
lkeepplace = .F.
lperformautosetup = .T.
lsamerowasprevious = .F.
ncol = 0
ncolspan = 1
nrow = 0
nrowspan = 1
lforcereadonly = .F.
Name = "prxeditbox"
[END PROPERTIES]
[START PROTECTED]
classbeforeautosetup
classafterautosetup
[END PROTECTED]
[START METHODS]
PROCEDURE GotFocus
Set Cursor On

ENDPROC
PROCEDURE Init
Local lcCommand As String

Try

	lcCommand = ""


	This.FontSize = This.FontSize + Thisform.oGlobalSettings.oApp.nUpdateFontSize

Catch To oErr
Finally

Endtry

ENDPROCPROCEDURE KeyPress
Lparameters nKeyCode, nShiftAltCtrl

#INCLUDE "FW\Comunes\Include\Praxis.h"

Do Case
	Case nKeyCode = KEY_ESCAPE And nShiftAltCtrl = 0
		Keyboard '{TAB}' Clear
		If Pemstatus( Thisform, "lExit", 5 )
			Thisform.lExit = .F.
		Endif

	Otherwise
		Thisform.KeyPress( nKeyCode, nShiftAltCtrl )

Endcase

ENDPROC
PROCEDURE LostFocus

Set Cursor Off

ENDPROC
PROCEDURE MouseDown
Lparameters nButton, nShift, nXCoord, nYCoord

Thisform.MouseDown( nButton, nShift, nXCoord, nYCoord )

ENDPROC
PROCEDURE When

Return ! This.lForceReadOnly

ENDPROC
PROCEDURE autofit
Lparameters tnExtraLen As Integer, tnExtraHeight As Integer

Local loTP As Object
Local lnHeight As Integer


Try
	With This As prxeditbox Of fw\comunes\vcx\BaseControls.vcx
		If Empty( .nLength )
			If Pemstatus( .Parent, "nLength", 5 )
				If Empty( .Parent.nLength )
					*                    Assert .F. Message .Parent.Name + ": Debe definir la propiedad nLength"
				Else
					.nLength = .Parent.nLength
				Endif
			Else
				*                Assert .F. Message .Name + ": Debe definir la propiedad nLength"
			Endif
		Endif
		lnHeight = .Height
		tnExtraLen = IfEmpty( tnExtraLen, 2 )
		loTP = Newobject( "TextProperties","txtProperties.prg" )
		If ! loTP.Process( This, tnExtraLen, tnExtraHeight )
			*!*	            loError = Thisform.oError
			*!*	            Thisform.cXMLoError = loError.Process( loTP.oError )
			*!*	            Throw loError
		Else
			.Height = lnHeight
		Endif
	Endwith

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )

	loError.Process( oErr )
	Throw loError

Finally

	loTP = Null

Endtry

ENDPROC
PROCEDURE fontsize_assign
Lparameters vNewVal As Integer
Local lnOldValue As Integer

Try
    lnOldValue = This.FontSize
    This.FontSize = m.vNewVal
Catch To oErr
    This.FontSize = lnOldValue
Finally
Endtry

ENDPROC
PROCEDURE lforcereadonly_assign
Lparameters tuNewValue As Boolean

With This As prxeditbox Of fw\comunes\vcx\BaseControls.vcx
	.lForceReadOnly = tuNewValue
	If tuNewValue
		.ReadOnly = tuNewValue

	Endif && tuNewValue

Endwith

ENDPROC
[END METHODS]
[START RESERVED1]
Class[END RESERVED1]
[START RESERVED2]
1[END RESERVED2]
[START RESERVED3]
_memberdata XML Metadata for customizable properties
length
lvisible
ltabstop
nlength
lautosetup Indica que el control cumple la interfaz necesaria para el proceso Autosetup (Tentativamente), los controles que tengan esta propiedad en .F. no son tenidos en cuenta durente el proceso AutoSetup.
lkeepplace Indica que el control ocupa espacio aunque este invisible.
lperformautosetup Indica si durante el proceso AutoSetup se llama al metodo AutoSetup del control. 
lsamerowasprevious Indica si el control va en la misma fila que el control anterior. 
ncol Se calcula en el proceso del armado de la matriz. Indica la coordenada de la posicion del control en la matriz.
ncolspan Indica cuantas columnas ocupa el control. 
nrow Se calcula en el proceso del armado de la matriz. Indica la coordenada de la posicion del control en la matriz.
nrowspan Indica cuantas filas ocupa el control.
lforcereadonly Fuerza que el control no tome el foco
*autofit Auto-resizes one or all visible grid columns.
*fontsize_assign 
*autosetup Cada control contenedor debe implementar su propio metodo AutoSetup para determinar como se ordenan los controles contenidos.
*getcontrolmesures Devuelve un Objeto con la información del tamaño del control y de algunas caracteristicas de los controles contenidos. Actualmente el objeto de retorno se adapta a las necesidades de los controles de la libreria inputboxes.vcx
*autoalign Cada control contenedor debe implementar su propio metodo AutoAlign para terminar de acomodar los controles contenidos en base al parametro recibido con los maximos calculados para todos los contenedores.
*classbeforeautosetup 
*hookbeforeautosetup 
*hookafterautosetup 
*classafterautosetup 
*lforcereadonly_assign 
[END RESERVED3]
[START RESERVED6]
Pixels[END RESERVED6]

[ RECORD]
[PLATFORM] COMMENT 
[UNIQUEID] RESERVED  
[OBJNAME] prxeditbox
[START PROPERTIES]
Arial, 0, 9, 5, 15, 12, 32, 3, 0
[END PROPERTIES]
[START RESERVED1]
  ..\include\praxis.h&~lA@ ..\include\foxpro.h.*z
; ..\include\strings.h6:[é:[END RESERVED1]

[ RECORD]
[PLATFORM] WINDOWS 
[UNIQUEID] _1FA0RGIE9
[CLASS] form
[BASECLASS] form
[OBJNAME] prxform
[START PROPERTIES]
DataSession = 2
DoCreate = .T.
ShowTips = .T.
AutoCenter = .T.
Caption = "Form"
MaxButton = .F.
Icon = ..\..\..\
LockScreen = .F.
oreturnobject = .NULL.
_memberdata =     8166<VFPData>
	<memberdata name="fontsize_assign" type="method" display="FontSize_Assign"/>
	<memberdata name="handleevents" type="method" display="HandleEvents"/>
	<memberdata name="hookafterautosetup" type="method" display="HookAfterAutoSetup"/>
	<memberdata name="hookafterinit" type="method" display="HookAfterInit"/>
	<memberdata name="hookbeforeautosetup" type="method" display="HookBeforeAutoSetup"/>
	<memberdata name="hookbeforeinit" type="method" display="HookBeforeInit"/>
	<memberdata name="lalreadyrelease" type="property" display="lAlReadyRelease"/>
	<memberdata name="lisok" type="property" display="lIsOk"/>
	<memberdata name="loldperformautosetup" type="property" display="lOldPerformAutoSetup"/>
	<memberdata name="lperformautosetup" type="property" display="lPerformAutoSetup"/>
	<memberdata name="npaddingtop" type="property" display="nPaddingTop"/>
	<memberdata name="ocolobjects" type="property" display="oColObjects"/>
	<memberdata name="oerror" type="property" display="oError"/>
	<memberdata name="oreturnobject" type="property" display="oReturnObject"/>
	<memberdata name="otxtproperties" type="property" display="oTxtProperties"/>
	<memberdata name="releaseobjects" type="method" display="ReleaseObjects"/>
	<memberdata name="ngap" type="property" display="nGap"/>
	<memberdata name="npaddingbottom" type="property" display="nPaddingBottom"/>
	<memberdata name="npaddingleft" type="property" display="nPaddingLeft"/>
	<memberdata name="npaddingright" type="property" display="nPaddingRight"/>
	<memberdata name="classafterautosetup" type="method" display="ClassAfterAutoSetup"/>
	<memberdata name="classafterinit" type="method" display="ClassAfterInit"/>
	<memberdata name="classbeforeautosetup" type="method" display="ClassBeforeAutoSetup"/>
	<memberdata name="classbeforeinit" type="method" display="ClassBeforeInit"/>
	<memberdata name="nbottompadding" type="property" display="nBottomPadding"/>
	<memberdata name="nleftpadding" type="property" display="nLeftPadding"/>
	<memberdata name="nrightpadding" type="property" display="nRightPadding"/>
	<memberdata name="ntoppadding" type="property" display="nTopPadding"/>
	<memberdata name="classbeforechangesize" type="method" display="ClassBeforeChangeSize"/>
	<memberdata name="classafterchangesize" type="method" display="ClassAfterChangeSize"/>
	<memberdata name="hookbeforechangesize" type="method" display="HookBeforeChangeSize"/>
	<memberdata name="hookafterchangesize" type="method" display="HookAfterChangeSize"/>
	<memberdata name="changesize" type="method" display="ChangeSize"/>
	<memberdata name="enlarge" type="method" display="Enlarge"/>
	<memberdata name="classbeforeenlarge" type="method" display="ClassBeforeEnlarge"/>
	<memberdata name="classafterenlarge" type="method" display="ClassAfterEnlarge"/>
	<memberdata name="hookbeforeenlarge" type="method" display="HookBeforeEnlarge"/>
	<memberdata name="hookafterenlarge" type="method" display="HookAfterEnlarge"/>
	<memberdata name="shrink" type="method" display="Shrink"/>
	<memberdata name="classbeforeshrink" type="method" display="ClassBeforeShrink"/>
	<memberdata name="classaftershrink" type="method" display="ClassAfterShrink"/>
	<memberdata name="hookbeforeshrink" type="method" display="HookBeforeShrink"/>
	<memberdata name="hookaftershrink" type="method" display="HookAfterShrink"/>
	<memberdata name="open" type="method" display="Open"/><memberdata name="classbeforeopen" type="method" display="ClassBeforeOpen"/><memberdata name="classafteropen" type="method" display="ClassAfterOpen"/><memberdata name="hookbeforeopen" type="method" display="HookBeforeOpen"/><memberdata name="hookafteropen" type="method" display="HookAfterOpen"/><memberdata name="save" type="method" display="Save"/><memberdata name="classbeforesave" type="method" display="ClassBeforeSave"/><memberdata name="classaftersave" type="method" display="ClassAfterSave"/><memberdata name="hookbeforesave" type="method" display="HookBeforeSave"/><memberdata name="hookaftersave" type="method" display="HookAfterSave"/><memberdata name="new" type="method" display="New"/><memberdata name="classbeforenew" type="method" display="ClassBeforeNew"/><memberdata name="classafternew" type="method" display="ClassAfterNew"/><memberdata name="hookbeforenew" type="method" display="HookBeforeNew"/><memberdata name="hookafternew" type="method" display="HookAfterNew"/><memberdata name="toprint" type="method" display="ToPrint"/><memberdata name="classbeforetoprint" type="method" display="ClassBeforeToPrint"/><memberdata name="classaftertoprint" type="method" display="ClassAfterToPrint"/><memberdata name="hookbeforetoprint" type="method" display="HookBeforeToPrint"/><memberdata name="hookaftertoprint" type="method" display="HookAfterToPrint"/><memberdata name="close" type="method" display="Close"/><memberdata name="classbeforeclose" type="method" display="ClassBeforeClose"/><memberdata name="classafterclose" type="method" display="ClassAfterClose"/><memberdata name="hookbeforeclose" type="method" display="HookBeforeClose"/><memberdata name="hookafterclose" type="method" display="HookAfterClose"/><memberdata name="delete" type="method" display="Delete"/><memberdata name="classbeforedelete" type="method" display="ClassBeforeDelete"/><memberdata name="classafterdelete" type="method" display="ClassAfterDelete"/><memberdata name="hookbeforedelete" type="method" display="HookBeforeDelete"/><memberdata name="hookafterdelete" type="method" display="HookAfterDelete"/><memberdata name="edit" type="method" display="Edit"/><memberdata name="classbeforeedit" type="method" display="ClassBeforeEdit"/><memberdata name="classafteredit" type="method" display="ClassAfterEdit"/><memberdata name="hookbeforeedit" type="method" display="HookBeforeEdit"/><memberdata name="hookafteredit" type="method" display="HookAfterEdit"/><memberdata name="classbeforereleaseobjects" type="method" display="ClassBeforeReleaseObjects"/><memberdata name="classafterreleaseobjects" type="method" display="ClassAfterReleaseObjects"/><memberdata name="hookbeforereleaseobjects" type="method" display="HookBeforeReleaseObjects"/><memberdata name="hookafterreleaseobjects" type="method" display="HookAfterReleaseObjects"/><memberdata name="controlsourcechange" type="method" display="ControlSourceChange"/><memberdata name="bindcontrols_assign" type="method" display="BindControls_Assign"/><memberdata name="visible_assign" type="method" display="Visible_Assign"/><memberdata name="enabled_assign" type="method" display="Enabled_Assign"/><memberdata name="previewreport" type="method" display="PreviewReport"/><memberdata name="classbeforepreviewreport" type="method" display="ClassBeforePreviewReport"/><memberdata name="classafterpreviewreport" type="method" display="ClassAfterPreviewReport"/><memberdata name="hookbeforepreviewreport" type="method" display="HookBeforePreviewReport"/><memberdata name="hookafterpreviewreport" type="method" display="HookAfterPreviewReport"/><memberdata name="export" type="method" display="Export"/><memberdata name="classbeforeexport" type="method" display="ClassBeforeExport"/><memberdata name="classafterexport" type="method" display="ClassAfterExport"/><memberdata name="hookbeforeexport" type="method" display="HookBeforeExport"/><memberdata name="hookafterexport" type="method" display="HookAfterExport"/><memberdata name="apply" type="method" display="Apply"/><memberdata name="classbeforeapply" type="method" display="ClassBeforeApply"/><memberdata name="classafterapply" type="method" display="ClassAfterApply"/><memberdata name="hookbeforeapply" type="method" display="HookBeforeApply"/><memberdata name="hookafterapply" type="method" display="HookAfterApply"/><memberdata name="oglobalsettings" type="property" display="oGlobalSettings"/><memberdata name="oglobalsettings_access" type="method" display="oGlobalSettings_Access"/><memberdata name="instanciateentity" type="method" display="InstanciateEntity"/><memberdata name="cobjectfactoryfilename" type="property" display="cObjectFactoryFileName" favorites="True"/><memberdata name="oerror_access" display="oError_Access"/></VFPData>
oerror = .NULL.
otxtproperties = .NULL.
ngap = 8
ocolobjects = .NULL.
loldperformautosetup = .F.
lalreadyrelease = .F.
lisok = .T.
lperformautosetup = .F.
ntoppadding = 8
nbottompadding = 8
nleftpadding = 8
nrightpadding = 8
oglobalsettings = .NULL.
cxmloerror = 
oentity = .NULL.
oimagelist = .NULL.
nborderstyle = 2
lischildform = .F.
lfitonscreen = .T.
Name = "prxform"
[END PROPERTIES]
[START PROTECTED]
classbeforeautosetup
classafterautosetup
classbeforeinit
classafterinit
classbeforechangesize
classafterchangesize
changesize
classbeforeenlarge
classafterenlarge
classbeforeshrink
classaftershrink
classbeforeopen
classafteropen
classbeforesave
classaftersave
classbeforenew
classafternew
classbeforetoprint
classaftertoprint
classbeforeclose
classafterclose
classbeforedelete
classafterdelete
classbeforeedit
classafteredit
classbeforereleaseobjects
classafterreleaseobjects
classbeforepreviewreport
classafterpreviewreport
classbeforeexport
classafterexport
classbeforeapply
classafterapply
classbeforesetupentity
classaftersetupentity
[END PROTECTED]
[START METHODS]
PROCEDURE Init
Lparameters toParam As Object


Try
	With This As prxform Of fw\comunes\vcx\BaseControls.vcx

		If .lIsOk And .Classbeforeinit( toParam )

			If .lIsOk And .Hookbeforeinit( toParam )
				* DAE 2009-11-10(19:58:12)
				If ! IsRunTime()
					Try
						This.AddObject( 'debuginfo', 'debuginfo' )
						This.debuginfo.Visible = .T.
						This.debuginfo.Move( 0, 0 )
					Catch To oErr
					Endtry

				Endif && ! IsRunTime()

				RaiseEvent( This, 'OnSubscribeToParent' )
				
				.lIsOk = .myInit( toParam )
				
				If .lIsOk And .lPerformAutoSetUp
					.AutoSetUp()
				Endif && .lPerformAutoSetUp

				.Hookafterinit( toParam )
				.Classafterinit( toParam )

			Endif && .Hookbeforeinit()

		Endif && .Classbeforeinit()
	EndWith
	
Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	
	loError.Process( oErr )
	Throw loError

Finally
	
	
EndTry
	
Return This.lIsOk

ENDPROC
PROCEDURE Load
#INCLUDE "FW\Comunes\Include\Praxis.h"


Try
*!*		If ! IsRuntime()
*!*			Set Path To Addbs( FL_SOURCE ) Additive
*!*			Set Path To Addbs( FL_LIBS ) Additive
*!*			
*!*			Set Classlib To "prxToolbar" Additive
*!*		Endif

	This.lIsOk = .T.

	Set Cursor Off
	Set Talk Off
	Set Echo Off
	Set Safety Off
	Set Escape Off
	
*!*		Set Status Bar Off
*!*		Set Status Off

	Set Deleted On
	Set Century On

	Set Date Dmy
	Set Hours To 24

	Set Asserts On
	Set TablePrompt Off

	Set NullDisplay To ""


Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Process( oErr )
	Throw loError

Finally
	
	
EndTry

Return This.lIsOk

ENDPROC
PROCEDURE Release

With This As prxform Of FW\Comunes\vcx\BaseControls.vcx
    If ! .lAlreadyRelease
    	.lExit = .T.
        .Hide()
        .ReleaseObjects()
        .lAlreadyRelease = .T.
    Endif
Endwith

ENDPROC
PROCEDURE autosetup
#If .F.
	TEXT
        *:Help Documentation
        *:Description:
        Metodo AutoSetup es llamado por el Evento Init y cuando se cambia el
        tamaño de la tipografia.
        *:Project:
        Sistemas Praxis
        *:Autor:
        Damian Eiff
        *:Date:
        Jueves 23 de Abril de 2009 (19:16:37)
        *:ModiSummary:
        *:Syntax:
        *:Example:
        *:Events:
		prxform::ClassBeforeAutoSetup
        prxform::HookBeforeAutoSetup
		prxform::HookAfterAutoSetup
        prxform::ClassAfterAutoSetup
        *:NameSpace:
		com.praxis.fw.comunes
        *:Keywords:
        *:Parameters:
        *:Remarks:
        *:Returns:
        Void
        *:Exceptions:
        *:SeeAlso:
		Class AutoSetUp
		prxform::Enlarge
		prxform::ChangeSize
		prxform::Shrink
		*:EndHelp
	ENDTEXT
#Endif

Local loAutoSetup As AutoSetUp Of "FW\Comunes\Prg\AutoSetUp.prg"

Try
	With This As prxform Of FW\Comunes\vcx\BaseControls.vcx
		If .ClassBeforeAutoSetup()

			If .HookBeforeAutoSetup()

				loAutoSetup = Newobject( "AutoSetUp", "AutoSetUp.prg" )
				If ! loAutoSetup.Process( This,;
						.nTopPadding,;
						.nLeftPadding,;
						.nRightPadding,;
						.nBottomPadding,;
						.nGap )

					loError = This.oError
					loError.Process( loAutoSetup.oError )
					Throw loError

				Endif

				.HookAfterAutoSetup()
				.ClassAfterAutoSetup()


				If This.lFitOnScreen
					Local lnScreenWidth As Integer
					Local lnScreenHeight As Integer
					Local lnLeft As Integer
					Local lnTop As Integer
					
*!*						lnScreenWidth = Sysmetric( 1 )
					lnScreenWidth = _Screen.Width

					* Me aseguro que todo el formulario se vea
					lnLeft = Min( This.Left, lnScreenWidth - This.Width - 8 )

					* Si el formulario es más ancho que la pantalla,
					* lo alíneo a la izquierda de la pantalla
					This.Left = Max( lnLeft, 0 )

*!*						lnScreenHeight = Sysmetric( 22 )
					lnScreenHeight = _Screen.Height - Sysmetric( 9 )

					* Me aseguro que todo el formulario se vea
					lnTop = Min( This.Top, lnScreenHeight - This.Height - 8 )

					* Si el formulario es más alto que la pantalla,
					* lo alíneo al borde superior de la pantalla
					This.Top = Max( lnTop, 0 )

				Endif

			Endif && .HookBeforeAutoSetup()

		Endif && .ClassBeforeAutoSetup()

	Endwith

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )

	loError.Process( oErr )
	Throw loError

Finally
	loAutoSetup = Null

Endtry

ENDPROC
PROCEDURE bindcontrols_assign
Lparameters vNewVal As Boolean

This.BindControls = m.vNewVal

ENDPROC
PROCEDURE changesize
Lparameters tnPoints As Integer

#If .F.
	TEXT
        *:Help Documentation
        *:Description:
        Abstract method
        *:Project:
        Sistemas Praxis
        *:Autor:
        Damian Eiff
        *:Date:
        Martes 5 de Mayo de 2009
        *:ModiSummary:
        *:Syntax:
        o.ChangeSize( 1 )
        *:Example:
        *:Events:
        prxForm::ClassBeforeChangeSize
		prxForm::HookBeforeChangeSize
		prxForm::HookAfterChangeSize
		prxForm::ClassAfterChangeSize
        *:NameSpace:
		com.praxis.fw.comunes
        *:Keywords:
        *:Parameters:
        tnPoints integer Puntos que se Modifica el tamaño de las tipografias
        *:Remarks:
        *:Returns:
        Void
        *:Exceptions:
        *:SeeAlso:
		prxForm::Enlarge
		prxForm::Shrink
		*:EndHelp
	ENDTEXT
#Endif

Local loCtrl As Object
Local llLockScreen As Boolean

Try
	With This As prxform Of fw\comunes\vcx\BaseControls.vcx
		llLockScreen = .LockScreen
		tnPoints = Int( tnPoints )
		If .ClassBeforeChangeSize( @tnPoints )
			If .HookBeforeChangeSize( @tnPoints )

				.LockScreen = .T.

				.oGlobalSettings.nUpdateFontSize = .oGlobalSettings.nUpdateFontSize + tnPoints

				For Each loCtrl In .oColObjects
					If Pemstatus( loCtrl, "nUpdateFontSize", 5 )
						loCtrl.nUpdateFontSize = tnPoints

					Endif

				Endfor
				If .lPerformAutoSetUp
					.AutoSetup()

				Endif

				.HookAfterChangeSize()
				.ClassAfterChangeSize()
				.LockScreen = .F.

			Endif
		Endif
	EndWith
	

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	
	loError.Process( oErr )
	Throw loError

Finally
	loCtrl = Null
	.LockScreen = llLockScreen

Endtry

ENDPROC
PROCEDURE classafterautosetup

Local loCtl As Control

Try
	With This As prxform Of FW\Comunes\vcx\BaseControls.vcx
		For Each loCtl In .oColObjects
			If Pemstatus( loCtl, 'lFitToParent', 5 ) && And loCtl.lFitToParent
				loCtl.FitToParent()
			Endif
		Endfor
	Endwith

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Process( oErr )
	Throw loError

Finally

Endtry

ENDPROC
PROCEDURE classafterchangesize
#If .F.
    TEXT
        *:Help Documentation
        *:Description:
        Abstract method
        *:Project:
        Sistemas Praxis
        *:Autor:
        Damian Eiff
        *:Date:
        Martes 5 de Mayo de 2009
        *:ModiSummary:
        *:Syntax:
        *:Example:
        *:Events:
        *:NameSpace:
		com.praxis.fw.comunes
        *:Keywords:
        *:Parameters:
        *:Remarks:
        *:Returns:
        Void
        *:Exceptions:
        *:SeeAlso:
		prxForm::Shrink
		prxForm::Enlarge
		prxForm::ChangeSize
		*:EndHelp
    ENDTEXT
#Endif

ENDPROC
PROCEDURE classafterenlarge
#If .F.
    TEXT
        *:Help Documentation
        *:Description:
        Abstract method
        *:Project:
        Sistemas Praxis
        *:Autor:
        Damian Eiff
        *:Date:
        Martes 5 de Mayo de 2009
        *:ModiSummary:
        *:Syntax:
        *:Example:
        *:Events:
        *:NameSpace:
		com.praxis.fw.comunes
        *:Keywords:
        *:Parameters:
        *:Remarks:
        *:Returns:
        Void
        *:Exceptions:
        *:SeeAlso:
		prxForm::Shrink
		prxForm::Enlarge
		prxForm::ChangeSize
		*:EndHelp
    ENDTEXT
#Endif
ENDPROC
PROCEDURE classafterinit
Lparameters toParam As Object

#If .F.
    TEXT
        *:Help Documentation
        *:Description:
        Abstract method
        *:Project:
        Sistemas Praxis
        *:Autor:
        Damian Eiff
        *:Date:
        Martes 5 de Mayo de 2009
        *:ModiSummary:
        *:Syntax:
        *:Example:
        *:Events:
        *:NameSpace:
		com.praxis.fw.comunes
        *:Keywords:
        *:Parameters:
        *:Remarks:
        *:Returns:
        Void
        *:Exceptions:
        *:SeeAlso:
		prxForm::Init
		*:EndHelp
    ENDTEXT
#Endif
ENDPROC
PROCEDURE classaftersetupentity
Lparameters toEntity As Object @

ENDPROC
PROCEDURE classaftershrink
#If .F.
    TEXT
        *:Help Documentation
        *:Description:
        Abstract method
        *:Project:
        Sistemas Praxis
        *:Autor:
        Damian Eiff
        *:Date:
        Martes 5 de Mayo de 2009
        *:ModiSummary:
        *:Syntax:
        *:Example:
        *:Events:
        *:NameSpace:
		com.praxis.fw.comunes
        *:Keywords:
        *:Parameters:
        *:Remarks:
        *:Returns:
        Void
        *:Exceptions:
        *:SeeAlso:
		prxForm::Shrink
		prxForm::Enlarge
		prxForm::ChangeSize
		*:EndHelp
    ENDTEXT
#Endif
ENDPROC
PROCEDURE classbeforeautosetup
#If .F.
    TEXT
        *:Help Documentation
		*:Description:
		Evento ClassBeforeAutoSetup permite cancelar la ejecución del metodo AutoSetup
		Template Method
        *:Syntax:
        *:Example:
        *:Events:
        *:NameSpace:
		com.praxis.fw.comunes
        *:Keywords:
        *:Returns:
        .T. Or .F.
        *:SeeAlso:
        prxbase::AutoSetup
        Class AutoSetUp
		*:EndHelp
    ENDTEXT
#Endif

Return .T.

ENDPROC
PROCEDURE classbeforechangesize
Lparameters tnPoints As Integer @

#If .F.
    TEXT
        *:Help Documentation
        *:Description:
        Abstract method
        *:Project:
        Sistemas Praxis
        *:Autor:
        Damian Eiff
        *:Date:
        Martes 5 de Mayo de 2009
        *:ModiSummary:
        *:Syntax:
        *:Example:
        *:Events:
        *:NameSpace:
		com.praxis.fw.comunes
        *:Keywords:
        *:Parameters:
        tnPoints integer Puntos que se Modifica el tamaño de las tipografias
        *:Remarks:
        *:Returns:
        Void
        *:Exceptions:
        *:SeeAlso:
		prxForm::ChangeSize
		*:EndHelp
    ENDTEXT
#Endif

Return .T.

ENDPROC
PROCEDURE classbeforeclose
Lparameters tlForceClose As Boolean

Return .T.

ENDPROC
PROCEDURE classbeforeenlarge
#If .F.
    TEXT
        *:Help Documentation
        *:Description:
        Abstract method
        *:Project:
        Sistemas Praxis
        *:Autor:
        Damian Eiff
        *:Date:
        Martes 5 de Mayo de 2009
        *:ModiSummary:
        *:Syntax:
        *:Example:
        *:Events:
        *:NameSpace:
		com.praxis.fw.comunes
        *:Keywords:
        *:Parameters:
        *:Remarks:
        *:Returns:
        Boolean .T. Or .F.
        *:Exceptions:
        *:SeeAlso:
		prxForm::Shrink
		prxForm::Enlarge
		prxForm::ChangeSize
		*:EndHelp
    ENDTEXT
#Endif

Return .T.

ENDPROC
PROCEDURE classbeforeinit
Lparameters toParam As Object

#If .F.
    TEXT
        *:Help Documentation
        *:Description:
        Abstract method
        *:Project:
        Sistemas Praxis
        *:Autor:
        Damian Eiff
        *:Date:
        Martes 5 de Mayo de 2009
        *:ModiSummary:
        *:Syntax:
        *:Example:
        *:Events:
        *:NameSpace:
		com.praxis.fw.comunes
        *:Keywords:
        *:Parameters:
        *:Remarks:
        *:Returns:
        Boolean .T. Or .F.
        *:Exceptions:
        *:SeeAlso:
		prxForm::Init
		*:EndHelp
    ENDTEXT
#Endif

Return .T.

ENDPROC
PROCEDURE classbeforesetupentity
Lparameters toEntity As Object @

Return .T.

ENDPROC
PROCEDURE classbeforeshrink
#If .F.
    TEXT
        *:Help Documentation
        *:Description:
        Abstract method
        *:Project:
        Sistemas Praxis
        *:Autor:
        Damian Eiff
        *:Date:
        Martes 5 de Mayo de 2009
        *:ModiSummary:
        *:Syntax:
        *:Example:
        *:Events:
        *:NameSpace:
		com.praxis.fw.comunes
        *:Keywords:
        *:Parameters:
        *:Remarks:
        *:Returns:
        Boolean .T. Or .F.
        *:Exceptions:
        *:SeeAlso:
		prxForm::Shrink
		prxForm::Enlarge
		prxForm::ChangeSize
		*:EndHelp
    ENDTEXT
#Endif

Return .T.

ENDPROC
PROCEDURE close
#If .F.
	TEXT
        *:Help Documentation
        *:Description:
        Cierra el formulario
        *:Project:
        Sistemas Praxis
        *:Autor:
        Damian Eiff
        *:Date:
        Martes 5 de Mayo de 2009
        *:ModiSummary:
        *:Syntax:
        *:Example:
        *:Events:
		prxForm::ClassBeforeClose
		prxForm::HookBeforeClose
		prxForm::HookAfterClose
		prxForm::ClassAfterClose
		prxForm::
		*:NameSpace:
		com.praxis.fw.comunes
        *:Keywords:
        *:Parameters:
        *:Remarks:
        *:Returns:
        Void
        *:Exceptions:
        *:SeeAlso:
		prxForm::Release
		prxForm::ReleaseObjects
		*:EndHelp
	ENDTEXT
#Endif

Try
	With This As prxForm Of FW\Comunes\vcx\BaseControls.vcx
		If .ClassBeforeClose()
			If .HookBeforeClose()
				.Hide()
				.Release()
				.HookAfterClose()
				.ClassAfterClose()

			Endif && .HookBeforeClose()

		Endif && .ClassBeforeClose()

	Endwith


Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Process( oErr )
	Throw loError

Finally
	
	
EndTry

ENDPROC
PROCEDURE closecursors

Local i As Integer
Local lcTable As String
Local Array laTables[ 1 ]

Try
    For i = 1 To Aused( laTables )
        lcTable = laTables[ i, 1 ]
        Use In Select( lcTable )

    Next

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Process( oErr )
	Throw loError

Finally
	
	
EndTry

ENDPROC
PROCEDURE cobjectfactoryfilename_access
*To do: Modify this routine for the Access method
If Empty( This.cObjectFactoryFileName )
	If !IsRuntime()
		Local loProject As PjHook Of "Tools\ProjectHook\Vcx\ProjectHookVss.vcx"
		Local lcProjectPath As String

		lcProjectPath = ""
		loProject = _vfp.ActiveProject

		lcProjectPath = JustPath( loProject.Name )

		This.cObjectFactoryFileName = Addbs( lcProjectPath ) ;
			+ "ObjectFactoryCfg.xml"

		loProject = Null

	Else
		This.cObjectFactoryFileName = "ObjectFactoryCfg.xml"

	Endif
Endif

Return This.cObjectFactoryFileName


ENDPROC
PROCEDURE controlsourcechange
#If .F.
    Text
        *:Help Documentation
        *:Description:
		Este método es disparado cada vez que la propiedad BindControls se pone en .T., en el BindControls_Assign.
        *:Project:
        Sistemas Praxis
        *:Autor:
        Damian Eiff
        *:Date:
        Martes 5 de Mayo de 2009
        *:ModiSummary:
        RR, 22/02/2004:
        Este método es disparado cada vez que la propiedad BindControls se
        pone en .T., en el BindControls_Assign.

        La intención es disparar un evento del que se van a poder colgar
        (mediante BindEvent) todos los objetos del formulario actual que
        necesiten detectar un cambio en su valor y actuar en consecuencia
        (Los PickOne por ejemplo, que deben actualizar los datos que deben
        mostrar según el valor asignado a su ControlSource)
	
		Me fue necesario crear este artilugio ya que no encontré otra manera
		de detectar un cambio en el valor de los controles boundeados al
		cambiar de registro.
		Con el value_assign el Framework detectaba un cambio en donde en
		realidad no lo había y al intentar cerrar el form sin modificar,
		hacía la molesta pregunta: "¿ Abandona los cambios ? SI - NO"

        *:Syntax:
        *:Example:
        *:Events:
        *:NameSpace:
		com.praxis.fw.comunes
        *:Keywords:
        *:Parameters:
        *:Remarks:
        *:Returns:
        Void
        *:Exceptions:
        *:SeeAlso:
		prxform::BindControls_Assign
		*:EndHelp
    EndText
#Endif
ENDPROC
PROCEDURE enabled_assign
Lparameters vNewVal As Boolean

This.Enabled = m.vNewVal

ENDPROC
PROCEDURE enlarge
#If .F.
	TEXT
        *:Help Documentation
        *:Description:
		Reduce el tamaño de la tipografia de los controles del formulario y vuelve a dimensionar el formulario
        *:Project:
        Sistemas Praxis
        *:Autor:
        Damian Eiff
        *:Date:
        Martes 5 de Mayo de 2009
        *:ModiSummary:
        *:Syntax:
        *:Example:
        *:Events:
        prxForm::ClassBeforeEnlarge
        prxForm::HookBeforeEnlarge
        prxForm::HookAfterEnlarge
        prxForm::ClassAfterEnlarge
        *:NameSpace:
		com.praxis.fw.comunes
        *:Keywords:
        *:Parameters:
        *:Remarks:
        *:Returns:
        Boolean
        *:Exceptions:
        *:SeeAlso:
		prxForm::ChangeSize
		*:EndHelp
	ENDTEXT
#Endif

Try
	With This As prxForm Of "FW\comunes\vcx\BaseControls.vcx"
		If .ClassBeforeEnlarge()
			If .HookBeforeEnlarge()
				.ChangeSize( 1 )
				.HookAfterEnlarge()
				.ClassAfterEnlarge()
				
			EndIf && .HookBeforeEnlarge()
			
		EndIf && .ClassBeforeEnlarge()
		
	EndWith

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Process( oErr )
	Throw loError

Finally
	
	
EndTry
	

ENDPROC
PROCEDURE fontsize_assign
Lparameters vNewVal As Integer
Local lnOldValue As Integer
Try
    lnOldValue = This.FontSize
    This.FontSize = m.vNewVal
Catch To oErr
    This.FontSize = lnOldValue
Finally
Endtry

ENDPROC
PROCEDURE hookafterchangesize
#If .F.
    TEXT
        *:Help Documentation
        *:Description:
        Abstract method
        *:Project:
        Sistemas Praxis
        *:Autor:
        Damian Eiff
        *:Date:
        Martes 5 de Mayo de 2009
        *:ModiSummary:
        *:Syntax:
        *:Example:
        *:Events:
        *:NameSpace:
		com.praxis.fw.comunes
        *:Keywords:
        *:Parameters:
        *:Remarks:
        *:Returns:
        Void
        *:Exceptions:
        *:SeeAlso:
		prxForm::Shrink
		prxForm::Enlarge
		prxForm::ChangeSize
		*:EndHelp
    ENDTEXT
#Endif


ENDPROC
PROCEDURE hookafterenlarge
#If .F.
    TEXT
        *:Help Documentation
        *:Description:
        Abstract method
        *:Project:
        Sistemas Praxis
        *:Autor:
        Damian Eiff
        *:Date:
        Martes 5 de Mayo de 2009
        *:ModiSummary:
        *:Syntax:
        *:Example:
        *:Events:
        *:NameSpace:
		com.praxis.fw.comunes
        *:Keywords:
        *:Parameters:
        *:Remarks:
        *:Returns:
        Void
        *:Exceptions:
        *:SeeAlso:
		prxForm::Shrink
		prxForm::Enlarge
		prxForm::ChangeSize
		*:EndHelp
    ENDTEXT
#Endif


ENDPROC
PROCEDURE hookafterinit
Lparameters toParam As Object

#If .F.
    TEXT
        *:Help Documentation
        *:Description:
        Abstract method
        *:Project:
        Sistemas Praxis
        *:Autor:
        Damian Eiff
        *:Date:
        Martes 5 de Mayo de 2009
        *:ModiSummary:
        *:Syntax:
        *:Example:
        *:Events:
        *:NameSpace:
		com.praxis.fw.comunes
        *:Keywords:
        *:Parameters:
        *:Remarks:
        *:Returns:
        Void
        *:Exceptions:
        *:SeeAlso:
		prxForm::Init
		*:EndHelp
    EndText
#Endif

ENDPROC
PROCEDURE hookaftersetupentity
Lparameters toEntity As Object @

ENDPROC
PROCEDURE hookaftershrink
#If .F.
    TEXT
        *:Help Documentation
        *:Description:
        Abstract method
        *:Project:
        Sistemas Praxis
        *:Autor:
        Damian Eiff
        *:Date:
        Martes 5 de Mayo de 2009
        *:ModiSummary:
        *:Syntax:
        *:Example:
        *:Events:
        *:NameSpace:
		com.praxis.fw.comunes
        *:Keywords:
        *:Parameters:
        *:Remarks:
        *:Returns:
        Void
        *:Exceptions:
        *:SeeAlso:
		prxForm::Shrink
		prxForm::Enlarge
		prxForm::ChangeSize
		*:EndHelp
    ENDTEXT
#Endif
ENDPROC
PROCEDURE hookbeforeautosetup
#If .F.
    TEXT
        *:Help Documentation
		*:Description:
		Evento HookBeforeAutoSetup permite cancelar la ejecución del metodo AutoSetup
		Template Method
        *:Syntax:
        *:Example:
        *:Events:
        *:NameSpace:
		com.praxis.fw.comunes
        *:Keywords:
		*:Returns:
        .T. Or .F.
        *:SeeAlso:
        prxbase::AutoSetup
        Class AutoSetUp
		*:EndHelp
    ENDTEXT
#Endif

Return .T.

ENDPROC
PROCEDURE hookbeforechangesize
Lparameters tnPoints As Integer @

#If .F.
    TEXT
        *:Help Documentation
        *:Description:
        Abstract method
        *:Project:
        Sistemas Praxis
        *:Autor:
        Damian Eiff
        *:Date:
        Martes 5 de Mayo de 2009
        *:ModiSummary:
        *:Syntax:
        *:Example:
        *:Events:
        *:NameSpace:
		com.praxis.fw.comunes
        *:Keywords:
        *:Parameters:
        tnPoints integer Puntos que se Modifica el tamaño de las tipografias
        *:Remarks:
        *:Returns:
        Void
        *:Exceptions:
        *:SeeAlso:
		prxForm::ChangeSize
		*:EndHelp
    ENDTEXT
#Endif

Return .T.

ENDPROC
PROCEDURE hookbeforeclose
Lparameters tlForceClose As Boolean

Return .T.

ENDPROC
PROCEDURE hookbeforeenlarge
#If .F.
    TEXT
        *:Help Documentation
        *:Description:
        Abstract method
        *:Project:
        Sistemas Praxis
        *:Autor:
        Damian Eiff
        *:Date:
        Martes 5 de Mayo de 2009
        *:ModiSummary:
        *:Syntax:
        *:Example:
        *:Events:
        *:NameSpace:
		com.praxis.fw.comunes
        *:Keywords:
        *:Parameters:
        *:Remarks:
        *:Returns:
        Boolean .T. Or .F.
        *:Exceptions:
        *:SeeAlso:
		prxForm::Shrink
		prxForm::Enlarge
		prxForm::ChangeSize
		*:EndHelp
    ENDTEXT
#Endif

Return .T.

ENDPROC
PROCEDURE hookbeforeinit
Lparameters toParam As Object

#If .F.
    TEXT
        *:Help Documentation
        *:Description:
        Abstract method
        *:Project:
        Sistemas Praxis
        *:Autor:
        Damian Eiff
        *:Date:
        Martes 5 de Mayo de 2009
        *:ModiSummary:
        *:Syntax:
        *:Example:
        *:Events:
        *:NameSpace:
		com.praxis.fw.comunes
        *:Keywords:
        *:Parameters:
        *:Remarks:
        *:Returns:
        Boolean .T. Or .F.
        *:Exceptions:
        *:SeeAlso:
		prxForm::Init
		*:EndHelp
    ENDTEXT
#Endif

Return .T.

ENDPROC
PROCEDURE hookbeforesetupentity
Lparameters toEntity As Object @

Return .T.

ENDPROC
PROCEDURE hookbeforeshrink
#If .F.
    TEXT
        *:Help Documentation
        *:Description:
        Abstract method
        *:Project:
        Sistemas Praxis
        *:Autor:
        Damian Eiff
        *:Date:
        Martes 5 de Mayo de 2009
        *:ModiSummary:
        *:Syntax:
        *:Example:
        *:Events:
        *:NameSpace:
		com.praxis.fw.comunes
        *:Keywords:
        *:Parameters:
        *:Remarks:
        *:Returns:
        Boolean .T. Or .F.
        *:Exceptions:
        *:SeeAlso:
		prxForm::Shrink
		prxForm::Enlarge
		prxForm::ChangeSize
		*:EndHelp
    ENDTEXT
#Endif

Return .T.

ENDPROC
PROCEDURE hookonconfirm
Lparameters tcText As String, tcCaption As String, tcWavFile As String, tnReturn as Number @

tnReturn = Confirm( tcText, tcCaption, tcWavFile )


ENDPROC
PROCEDURE hookoninform
Lparameters tcText As String, tcCaption As String, tnSeconds as Integer

Inform( tcText, tcCaption, tnSeconds )
ENDPROC
PROCEDURE hookonstop
Lparameters tcText As String, tcCaption As String

Stop( tcText, tcCaption )

ENDPROC
PROCEDURE hookonwarning
Lparameters tcText As String, tcCaption As String, tnSeconds As Integer

Warning( tcText, tcCaption, tnSeconds )

ENDPROC
PROCEDURE instanciateentity
Lparameters tcEntityName As String, tcTierLevel As String, tcObjectFactoryFileName As String

#If .F.
	TEXT
			*:Help Documentation
			*:Topic:
			*:Description:
			Devuelve una instancia del objeto
			*:Project:
			Sistemas Praxis
			*:Autor:
			Ricardo Aidelman
			*:Date:
			Viernes 15 de Mayo de 2009 (08:47:03)
			*:ModiSummary:
			Se agrego BindEvents a:
				OnWarning
				OnStop
				OnInform
				OnConfirm
			*:Syntax:
			*:Example:
			*:Events:
			*:NameSpace:
			praxis.com
			*:Keywords:
			*:Implements:
			*:Inherits:
			*:Parameters:
			tcEntityName AS String
			tcTierLevel AS String
			tcObjectFactoryFileName AS String
			*:Remarks:
			Factory Method
			*:Returns:
			Object
			*:Exceptions:
			*:SeeAlso:
			*:EndHelp
	ENDTEXT
#Endif

Local loParam As Object
Local loObjectFactory As ObjectFactory Of "FW\Comunes\Prg\ObjectFactory.prg"
Local loEntity As TierAdapter Of "FW\TierAdapter\Comun\TierAdapter.prg"


Local lcCommand As String

Try

	lcCommand = ""
	With This As prxform Of FW\Comunes\vcx\BaseControls.vcx

*!*			If Empty( tcTierLevel )
*!*				tcTierLevel = 'User'
*!*			Endif
*!*			If Empty( tcObjectFactoryFileName )
*!*				tcObjectFactoryFileName = .cObjectFactoryFileName
*!*			Endif

*!*			loObjectFactory = NewObjectFactory()
*!*			loEntity = loObjectFactory.Getobject( tcEntityName, tcTierLevel, This.DataSessionId )

*!*			If Pemstatus( loEntity, 'cObjectFactoryFileName', 5 ) ;
*!*					And Empty( loEntity.cObjectFactoryFileName )
*!*				loEntity.cObjectFactoryFileName = tcObjectFactoryFileName
*!*			Endif

*!*			If Pemstatus( loEntity, 'oUser', 5 )
*!*				loEntity.oUser = .oGlobalSettings.oUser
*!*			Endif

*!*			.SetupEntity( loEntity )

	Endwith



Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Cremark = lcCommand
	loError.Process( oErr )
	Throw loError

Finally
	loParam = Null
	loObjectFactory = Null


Endtry


Return loEntity

ENDPROC
PROCEDURE lockscreen_assign
Lparameters tLockScreen As Boolean

Local Array laCheckDlls[ 1 ]
Local lnHWnd
Local lnRes

lnRes = Adlls( laCheckDlls )
If lnRes = 0 Or ! ( Ascan( laCheckDlls, 'LockWindowUpdate', 1, -1, 1, 15 ) > 0 )
	*** We don't have the function available
	Declare Integer LockWindowUpdate In Win32API ;
		Integer nHandle

EndIf && lnRes = 0 Or ! ( Ascan( laCheckDlls, 'LockWindowUpdate', 1, -1, 1, 15 ) > 0 )

lnHWnd = Iif( tLockScreen, Thisform.HWnd, 0 )

LockWindowUpdate( lnHWnd )

This.LockScreen = tLockScreen

Return

ENDPROC
PROCEDURE myinit
Lparameters toParam As Object

ENDPROC
PROCEDURE ocolobjects_access
With This As prxform Of fw\comunes\vcx\BaseControls.vcx
	If Vartype( .oColObjects ) # "O"
		.oColObjects = OrderControlsByKey( This )
	
	EndIf
	
EndWith

Return This.oColObjects

ENDPROC
PROCEDURE oentity_access
return This.oEntity

ENDPROC
PROCEDURE oerror_access
#INCLUDE "fw\errorhandler\eh.h"

With This As prxform Of FW\Comunes\vcx\BaseControls.vcx
    If Vartype( .oError ) # 'O'
        .oError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
        .oError.TierBehavior = EH_SHOWERROR + EH_LOGERROR
    Endif
Endwith
Return This.oError


ENDPROCPROCEDURE oglobalsettings_access

With This As prxform Of FW\Comunes\VCX\BaseControls.vcx
	If Vartype( .oGlobalSettings ) # 'O'
		* DAE 2009-07-30(18:06:59)
		* .oGlobalSettings = Newobject( 'GlobalSettings', 'FW\Comunes\PRG\GlobalSettings.prg' )
		.oGlobalSettings = NewGlobalSettings()

	Endif && Vartype( .oGlobalSettings ) # 'O'
	
EndWith

Return This.oGlobalSettings


ENDPROC
PROCEDURE oimagelist_access

Return This.oImageList


ENDPROC
PROCEDURE populateproperties
Lparameters toParam As Object

Local laMembers[ 1 ] As String
Local lcProperty As String
If Vartype( toParam ) == "O"
    Amembers( laMembers, toParam )
    For Each lcProperty In laMembers
        Try
            This.&lcProperty = toParam.&lcProperty
        Catch To oErr
            * No hago nada
        Finally
        Endtry
    Endfor
Endif

ENDPROC
PROCEDURE releaseobjects
Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
Local loObj As Object
Try
    With This As prxform Of FW\Comunes\vcx\BaseControls.vcx
        .oColObjects = Null
        .ClassBeforeReleaseObjects()
        .HookBeforeReleaseObjects()
        For Each loObj In .Objects
            If Pemstatus( loObj, "ReleaseObjects", 5 )
                loObj.ReleaseObjects()
            Endif
        Endfor
        .HookAfterReleaseObjects()
        .ClassAfterReleaseObjects()
    EndWith

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Process( oErr )
	Throw loError


Finally
    loObj = Null
Endtry

ENDPROC
PROCEDURE setupentity
Lparameters toEntity As Object @


Try

	With This As prxform Of FW\Comunes\vcx\BaseControls.vcx
		If .ClassBeforeSetupEntity( toEntity )
			If .HookBeforeSetupEntity( toEntity )

				If Pemstatus( toEntity, 'OnWarning', 5 )
					Bindevent( toEntity, 'OnWarning', This, 'HookOnWarning' )
				Endif

				If Pemstatus( toEntity, 'OnStop', 5 )
					Bindevent( toEntity, 'OnStop', This, 'HookOnStop' )
				Endif

				If Pemstatus( toEntity, 'OnInform', 5 )
					Bindevent( toEntity, 'OnInform', This, 'HookOnInform' )
				Endif

				If Pemstatus( toEntity, 'OnConfirm', 5 )
					Bindevent( toEntity, 'OnConfirm', This, 'HookOnConfirm' )
				Endif

				.HookAfterSetupEntity( toEntity )

				.ClassAfterSetupEntity( toEntity )

			Endif
		Endif
	Endwith


Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Process( oErr )
	Throw loError

Finally


Endtry


ENDPROC
PROCEDURE shrink
#If .F.
	TEXT
        *:Help Documentation
        *:Description:
		Reduce el tamaño de la tipografia de los controles del formulario y vuelve a dimensionar el formulario
        *:Project:
        Sistemas Praxis
        *:Autor:
        Damian Eiff
        *:Date:
        Martes 5 de Mayo de 2009
        *:ModiSummary:
        *:Syntax:
        *:Example:
        *:Events:
        *:NameSpace:
		com.praxis.fw.comunes
        *:Keywords:
        *:Parameters:
        *:Remarks:
        *:Returns:
        Boolean
        *:Exceptions:
        *:SeeAlso:
		prxForm::ChangeSize
		*:EndHelp
	ENDTEXT
#Endif



Try
	With This As prxForm Of "FW\comunes\vcx\BaseControls.vcx"
		If .ClassBeforeShrink()
			If .HookBeforeShrink()

				.ChangeSize( -1 )
				.HookAfterShrink()
				.ClassAfterShrink()

			Endif
		Endif

	EndWith
	

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Cremark = lcCommand
	loError.Process( oErr )
	Throw loError

Finally
	
	
EndTry

ENDPROC
PROCEDURE visible_assign
Lparameters vNewVal As Boolean

If This.lExit
	Thisform.Release()
	
Else
	This.Visible = m.vNewVal
	
Endif




ENDPROC
[END METHODS]
[START RESERVED1]
Class[END RESERVED1]
[START RESERVED2]
1[END RESERVED2]
[START RESERVED3]
oreturnobject Objeto que permite guardar en sus propiedades los valores de retorno. El cliente guarda una referencia al objeto de retorno, para que el form llene las propiedades. Se utiliza cuando no es posible usar DO FORM cFormName  TO eReturnValue
_memberdata XML Metadata for customizable properties
oerror Referencia al objeto ErrorHandler
otxtproperties Contiene una referencia a la Clase txtProperties
ngap Distancia entre controles
ocolobjects
loldperformautosetup
lalreadyrelease Indica que el metodo Release() ya se ejecutó
lisok Flag que indica si se ha producido algún error
lperformautosetup Indica si se ejecuta el Metodo AutoSetup cuando se carga el formulario
ntoppadding
nbottompadding
nleftpadding
nrightpadding
oglobalsettings Acceso a las propiedades globales
cobjectfactoryfilename
cxmloerror
oentity
oimagelist
nborderstyle Valor de la propiedad BorderStyle para tiempo de diseño
lischildform Indica queel formulario se comporta como un Child Form
lexit
lfitonscreen Indica si el formulario se reacomoda para ubicarse dentro de la pantalla al instanciarse
*autosetup Acomoda automaticamente los controles dentro de un contenedor
*fontsize_assign 
*handleevents El objetivo es tener un método al cual los demás controles puedan simplemente llamar cuando quieran informar de un evento. Los controles que quieran enterarse, deberán bindearse al mismo
*releaseobjects 
*classbeforeautosetup Se ejecuta antes del AutoSetup, permite cancelar el evento
*classafterautosetup Se ejecuta despues del AutoSetup
*hookbeforeautosetup Se ejecuta antes del AutoSetup, permite cancelar el evento
*hookafterautosetup Se ejecuta despues del AutoSetup
*classbeforeinit 
*hookbeforeinit 
*classafterinit 
*hookafterinit 
*classbeforechangesize 
*classafterchangesize 
*hookbeforechangesize 
*hookafterchangesize 
*changesize 
*enlarge 
*classbeforeenlarge 
*classafterenlarge 
*hookbeforeenlarge 
*hookafterenlarge 
*shrink 
*classbeforeshrink 
*classaftershrink 
*hookbeforeshrink 
*hookaftershrink 
*open Abre un registro
*classbeforeopen 
*classafteropen 
*hookbeforeopen 
*hookafteropen 
*save 
*classbeforesave 
*classaftersave 
*hookbeforesave 
*hookaftersave 
*new 
*classbeforenew 
*classafternew 
*hookbeforenew 
*hookafternew 
*toprint 
*classbeforetoprint 
*classaftertoprint 
*hookbeforetoprint 
*hookaftertoprint 
*close Cierra el formulario o cancela la acción y deshabilita los controles, pero mantiene el formulario abierto para permitir acciones tales como Open(), New() o ReportAll()
*classbeforeclose 
*classafterclose 
*hookbeforeclose 
*hookafterclose 
*delete Delete Event.
*classbeforedelete 
*classafterdelete 
*hookbeforedelete 
*hookafterdelete 
*edit 
*classbeforeedit 
*classafteredit 
*hookbeforeedit 
*hookafteredit 
*classbeforereleaseobjects 
*classafterreleaseobjects 
*hookbeforereleaseobjects 
*hookafterreleaseobjects 
*controlsourcechange Este método es disparado cada vez que la propiedad BindControls se pone en .T., en el BindControls_Assign.
*bindcontrols_assign 
*visible_assign 
*enabled_assign 
*previewreport 
*classbeforepreviewreport 
*classafterpreviewreport 
*hookbeforepreviewreport 
*hookafterpreviewreport 
*export 
*classbeforeexport 
*classafterexport 
*hookbeforeexport 
*hookafterexport 
*apply 
*classbeforeapply 
*classafterapply 
*hookbeforeapply 
*hookafterapply 
*oglobalsettings_access 
*instanciateentity Devuelve una instancia del objeto
*closecursors Cierro los cursores abiertos
*populateproperties 
*oentity_access 
*oimagelist_access 
*hookonwarning 
*hookonstop 
*hookoninform 
*hookonconfirm 
*setupentity 
*classbeforesetupentity 
*classaftersetupentity 
*hookbeforesetupentity 
*hookaftersetupentity 
*cobjectfactoryfilename_access 
*ocolobjects_access 
*onsubscribetoparent 
*lockscreen_assign 
*myinit Es llamado por el evento Init()
*oerror_access 
[END RESERVED3]
[START RESERVED6]
Pixels[END RESERVED6]

[ RECORD]
[PLATFORM] COMMENT 
[UNIQUEID] RESERVED  
[OBJNAME] prxform
[START PROPERTIES]
Arial, 0, 9, 5, 15, 12, 32, 3, 0
[END PROPERTIES]
[START RESERVED1]
  ..\include\praxis.h´lA@ ..\include\foxpro.hµ*z
; ..\include\strings.h&¶:[é: ..\..\errorhandler\eh.h.·`n1@ ..\include\praxis.h6¸lA@ ..\include\foxpro.h>¹*z
; ..\include\strings.hFº:[é:[END RESERVED1]

[ RECORD]
[PLATFORM] WINDOWS 
[UNIQUEID] _1FA0RH361
[CLASS] grid
[BASECLASS] grid
[OBJNAME] prxgrid
[START PROPERTIES]
Height = 200
SplitBar = .F.
Width = 320
_memberdata =     2415<VFPData><memberdata name="enabled_assign" type="method" display="Enabled_Assign"/><memberdata name="classbeforeinit" type="method" display="ClassBeforeInit"/><memberdata name="classafterinit" type="method" display="ClassAfterInit"/><memberdata name="hookbeforeinit" type="method" display="HookBeforeInit"/><memberdata name="hookafterinit" type="method" display="HookAfterInit"/><memberdata name="nrow" type="property" display="nRow"/><memberdata name="nrowspan" type="property" display="nRowSpan" favorites="True"/><memberdata name="ncol" type="property" display="nCol" favorites="True"/><memberdata name="ncolspan" type="property" display="nColSpan" favorites="True"/><memberdata name="lperformautosetup" type="property" display="lPerformAutoSetup" favorites="True"/><memberdata name="nbottompadding" type="property" display="nBottomPadding"/><memberdata name="nleftpadding" type="property" display="nLeftPadding"/><memberdata name="nrightpadding" type="property" display="nRightPadding"/><memberdata name="ntoppadding" type="property" display="nTopPadding"/><memberdata name="ngap" type="property" display="nGap"/><memberdata name="autosetup" type="method" display="AutoSetup"/><memberdata name="getmeasures" type="method" display="GetMeasures"/><memberdata name="lautosetup" type="property" display="lAutoSetup" favorites="True"/><memberdata name="lkeepplace" type="property" display="lKeepPlace"/><memberdata name="lsamerowasprevious" type="property" display="lSameRowAsPrevious" favorites="True" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'lSameRowAsPrevious'"/><memberdata name="getcontrolmesures" type="method" display="GetControlMesures"/><memberdata name="autoalign" type="method" display="AutoAlign"/><memberdata name="classbeforeautosetup" type="method" display="ClassBeforeAutoSetup"/><memberdata name="hookbeforeautosetup" type="method" display="HookBeforeAutoSetup"/><memberdata name="hookafterautosetup" type="method" display="HookAfterAutoSetup"/><memberdata name="classafterautosetup" type="method" display="ClassAfterAutoSetup"/><memberdata name="lforcereadonly" type="property" display="lForceReadOnly" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'lForceReadOnly'"/><memberdata name="lforcereadonly_assign" type="method" display="lForceReadOnly_Assign"/></VFPData>

nrow = 0
nrowspan = 1
ncol = 0
ncolspan = 1
lperformautosetup = .T.
nbottompadding = 0
nleftpadding = 0
nrightpadding = 0
ntoppadding = 0
ngap = 0
lautosetup = .T.
lkeepplace = .F.
lsamerowasprevious = .T.
lforcereadonly = .F.
Name = "prxgrid"
[END PROPERTIES]
[START PROTECTED]
classbeforeinit
classafterinit
classbeforeautosetup
classafterautosetup
[END PROTECTED]
[START METHODS]
PROCEDURE Init

Local loTextBox As Label
Local loTP As Object
Local lnExtraLen As Integer
Local lnExtraHeight As Integer


Try
	With This As prxgrid Of FW\Comunes\vcx\BaseControls.vcx
		If .ClassBeforeInit()
			If .HookBeforeInit()
				Try
					.FontSize = .FontSize + Thisform.oGlobalSettings.oApp.nUpdateFontSize
				Catch To oErr
				Finally
				Endtry

				lnExtraLen = 0
				lnExtraHeight = 1.2
				* DAE 2009-07-01 (19:46:00)
				* loTextBox = Createobject( "prxTextBox" )
				loTextBox = Createobject( "TextBox" )
				loTextBox.FontBold = .T.
				loTextBox.FontName = This.FontName
				loTextBox.FontSize = This.FontSize

				loTP = Newobject( "TextProperties", "txtProperties.prg" )
				If ! loTP.Process( loTextBox, lnExtraLen, lnExtraHeight )
					loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
					loError.Process( loTP.oError )
				Else
					.RowHeight = loTextBox.Height
				Endif
				.HookAfterInit()
				.ClassAfterInit()
			Endif
		Endif
	Endwith

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Process( oErr )
	Throw loError

Finally
	loTextBox = Null
	loTP = Null
Endtry

ENDPROC
PROCEDURE KeyPress
LPARAMETERS nKeyCode, nShiftAltCtrl

Thisform.KeyPress( nKeyCode, nShiftAltCtrl )
ENDPROC
PROCEDURE MouseDown
Lparameters nButton, nShift, nXCoord, nYCoord

Thisform.MouseDown( nButton, nShift, nXCoord, nYCoord )

ENDPROCPROCEDURE When

Return ! This.lForceReadOnly

ENDPROC
PROCEDURE enabled_assign
Lparameters vNewVal As Boolean
Local loObj As Object
With This As prxgrid Of fw\comunes\vcx\BaseControls.vcx
    .Enabled = m.vNewVal
    For Each loObj In .Objects
        loObj.Enabled = m.vNewVal
    Endfor
    loObj = Null
Endwith

ENDPROC
PROCEDURE getmeasures

Local loCtrlMeasures As ControlMeasures Of 'FW\Comunes\prg\autosetup.prg'


Try
	loCtrlMeasures = Newobject( 'ControlMeasures', 'fw\comunes\prg\autosetup.prg' )
	With This As ccmarcobase Of FW\Comunes\vcx\controles_varios.vcx
		loCtrlMeasures.Width = .Width
		loCtrlMeasures.Height = .Height
		loCtrlMeasures.nDatoWidth = .Width
		loCtrlMeasures.nDatoHeight = .Height
		* Label
		loCtrlMeasures.lLabelOnTop = .F.
		loCtrlMeasures.nLabelWidth = 0
		loCtrlMeasures.nLabelHeight = 0
	Endwith


Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Process( oErr )
	Throw loError

Finally
	
	
EndTry

Return loCtrlMeasures

ENDPROC
PROCEDURE lforcereadonly_assign
Lparameters tuNewValue As Boolean

With This As prxgrid Of fw\comunes\vcx\BaseControls.vcx
	.lForceReadOnly = tuNewValue
	If tuNewValue
		.ReadOnly = tuNewValue

	Endif && tuNewValue

Endwith

ENDPROC
[END METHODS]
[START RESERVED1]
Class[END RESERVED1]
[START RESERVED2]
1[END RESERVED2]
[START RESERVED3]
_memberdata XML Metadata for customizable properties
nrow
nrowspan
ncol
ncolspan
lperformautosetup Indica si el control ejecuta automaticamente el metodo AutoSetup
nbottompadding
nleftpadding
nrightpadding
ntoppadding
ngap
lautosetup
lkeepplace
lsamerowasprevious Indica si el control va en la misma fila que el control anterior.
lforcereadonly Fuerza que el control no tome el foco
*enabled_assign 
*classbeforeinit 
*classafterinit 
*hookbeforeinit 
*hookafterinit 
*autosetup 
*getmeasures 
*getcontrolmesures Devuelve un Objeto con la información del tamaño del control y de algunas caracteristicas de los controles contenidos. Actualmente el objeto de retorno se adapta a las necesidades de los controles de la libreria inputboxes.vcx
*autoalign Cada control contenedor debe implementar su propio metodo AutoAlign para terminar de acomodar los controles contenidos en base al parametro recibido con los maximos calculados para todos los contenedores.
*classbeforeautosetup 
*hookbeforeautosetup 
*hookafterautosetup 
*classafterautosetup 
*lforcereadonly_assign 
[END RESERVED3]
[START RESERVED6]
Pixels[END RESERVED6]

[ RECORD]
[PLATFORM] COMMENT 
[UNIQUEID] RESERVED  
[OBJNAME] prxgrid
[START PROPERTIES]
Arial, 0, 9, 5, 15, 12, 32, 3, 0
[END PROPERTIES]

[ RECORD]
[PLATFORM] WINDOWS 
[UNIQUEID] _1FA0RHILK
[CLASS] hyperlink
[BASECLASS] hyperlink
[OBJNAME] prxhyperlink
[START PROPERTIES]
Height = 23
Width = 23
_memberdata =      311<VFPData><memberdata name="lforcereadonly" type="property" display="lForceReadOnly" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'lForceReadOnly'"/><memberdata name="lforcereadonly_assign" type="method" display="lForceReadOnly_Assign"/></VFPData>

lforcereadonly = .F.
Name = "prxhyperlink"
[END PROPERTIES]
[START METHODS]
PROCEDURE lforcereadonly_assign
Lparameters tuNewValue As Boolean

This.lForceReadOnly = tuNewValue

ENDPROC
[END METHODS]
[START RESERVED1]
Class[END RESERVED1]
[START RESERVED2]
1[END RESERVED2]
[START RESERVED3]
_memberdata
lforcereadonly Fuerza que el control no tome el foco
*lforcereadonly_assign 
[END RESERVED3]
[START RESERVED6]
Pixels[END RESERVED6]

[ RECORD]
[PLATFORM] COMMENT 
[UNIQUEID] RESERVED  
[OBJNAME] prxhyperlink

[ RECORD]
[PLATFORM] WINDOWS 
[UNIQUEID] _1FA0RHSH4
[CLASS] image
[BASECLASS] image
[OBJNAME] prximage
[START PROPERTIES]
Height = 17
Width = 100
Name = "prximage"
[END PROPERTIES]
[START RESERVED1]
Class[END RESERVED1]
[START RESERVED2]
1[END RESERVED2]
[START RESERVED6]
Pixels[END RESERVED6]

[ RECORD]
[PLATFORM] COMMENT 
[UNIQUEID] RESERVED  
[OBJNAME] prximage

[ RECORD]
[PLATFORM] WINDOWS 
[UNIQUEID] _1FA0RI2SN
[CLASS] label
[BASECLASS] label
[OBJNAME] prxlabel
[START PROPERTIES]
BackStyle = 0
Caption = "Label"
Height = 20
Width = 100
_memberdata =      874<VFPData><memberdata name="autofit" type="method" display="AutoFit"/><memberdata name="backstyle" type="Property" favorites="True"/><memberdata name="fontsize" type="Property" favorites="True"/><memberdata name="height" type="Property" favorites="True"/><memberdata name="width" type="Property" favorites="True"/><memberdata name="anchor" type="property" favorites="True"/><memberdata name="caption" type="property" favorites="True"/><memberdata name="fontname" type="property" favorites="True"/><memberdata name="fontsize_assign" type="method" display="FontSize_Assign"/><memberdata name="lforcereadonly" type="property" display="lForceReadOnly" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'lForceReadOnly'"/><memberdata name="lforcereadonly_assign" type="method" display="lForceReadOnly_Assign"/></VFPData>

lforcereadonly = .F.
Name = "prxlabel"
[END PROPERTIES]
[START METHODS]
PROCEDURE Init

Try
	This.FontSize = This.FontSize + Thisform.GlobalSettings.oApp.nUpdateFontSize
Catch To oErr
Endtry

ENDPROC
PROCEDURE MouseDown
Lparameters nButton, nShift, nXCoord, nYCoord

Thisform.MouseDown( nButton, nShift, nXCoord, nYCoord )

ENDPROCPROCEDURE autofit
Lparameters tnExtraLen As Integer, tnExtraHeight As Integer

Local loTP As Object

Try
    If ! Empty( This.Caption )
        loTP = Newobject("TextProperties","txtProperties.prg")
        If ! loTP.Process( This, tnExtraLen, tnExtraHeight )
            loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
            loError.Process( loTP.oError )
        Endif
    EndIf

Catch To oErr
Finally
    loTP = Null

Endtry
ENDPROC
PROCEDURE fontsize_assign
Lparameters vNewVal as Integer
Local lnOldValue as Integer
Try
	lnOldValue = This.FontSize
	This.FontSize = m.vNewVal
Catch To oErr
	This.FontSize = lnOldValue
Finally
Endtry
ENDPROC
PROCEDURE lforcereadonly_assign
Lparameters tuNewValue As Boolean

This.lForceReadOnly = tuNewValue

ENDPROC
[END METHODS]
[START RESERVED1]
Class[END RESERVED1]
[START RESERVED2]
1[END RESERVED2]
[START RESERVED3]
_memberdata XML Metadata for customizable properties
lforcereadonly Fuerza que el control no tome el foco
*autofit Ajusta automáticamente el tamaño del control al texto contenido
*fontsize_assign 
*lforcereadonly_assign 
[END RESERVED3]
[START RESERVED6]
Pixels[END RESERVED6]

[ RECORD]
[PLATFORM] COMMENT 
[UNIQUEID] RESERVED  
[OBJNAME] prxlabel

[ RECORD]
[PLATFORM] WINDOWS 
[UNIQUEID] _1FA0RIB8C
[CLASS] line
[BASECLASS] line
[OBJNAME] prxline
[START PROPERTIES]
Height = 17
Width = 100
_memberdata = 
Name = "prxline"
[END PROPERTIES]
[START METHODS]
PROCEDURE MouseDown
Lparameters nButton, nShift, nXCoord, nYCoord

Thisform.MouseDown( nButton, nShift, nXCoord, nYCoord )

ENDPROC
[END METHODS]
[START RESERVED1]
Class[END RESERVED1]
[START RESERVED2]
1[END RESERVED2]
[START RESERVED3]
_memberdata
[END RESERVED3]
[START RESERVED6]
Pixels[END RESERVED6]

[ RECORD]
[PLATFORM] COMMENT 
[UNIQUEID] RESERVED  
[OBJNAME] prxline

[ RECORD]
[PLATFORM] WINDOWS 
[UNIQUEID] _1FA0RILLG
[CLASS] listbox
[BASECLASS] listbox
[OBJNAME] prxlistbox
[START PROPERTIES]
Height = 82
Width = 181
AutoHideScrollbar = 1
forecolor = 0
backcolor = 0
_memberdata =     1048<VFPData><memberdata name="lsamerowasprevius" type="property" display="lSameRowAsPrevius" favorites="True"/><memberdata name="anchor" type="property" favorites="True"/><memberdata name="backcolor" type="property" display="BackColor"/><memberdata name="fontname" type="property" favorites="True"/><memberdata name="fontsize" type="property" favorites="True"/><memberdata name="fontsize_assign" type="method" display="FontSize_Assign"/><memberdata name="forecolor" type="property" display="ForeColor"/><memberdata name="name" type="property" favorites="True"/><memberdata name="autofit" type="method" display="AutoFit"/><memberdata name="inputmask" type="property" display="InputMask"/><memberdata name="nlength" type="property" display="nLength"/><memberdata name="lforcereadonly" type="property" display="lForceReadOnly" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'lForceReadOnly'"/><memberdata name="lforcereadonly_assign" type="method" display="lForceReadOnly_Assign"/></VFPData>

lsamerowasprevius = .F.
inputmask = 
nlength = 0
lforcereadonly = .F.
Name = "prxlistbox"
[END PROPERTIES]
[START METHODS]
PROCEDURE Init
Local lcCommand As String

Try

	lcCommand = ""

	This.FontSize = This.FontSize + Thisform.oGlobalSettings.oApp.nUpdateFontSize

Catch To oErr
Finally

Endtry

ENDPROC
PROCEDURE KeyPress
LPARAMETERS nKeyCode, nShiftAltCtrl

Thisform.KeyPress( nKeyCode, nShiftAltCtrl )
ENDPROC
PROCEDURE MouseDown
Lparameters nButton, nShift, nXCoord, nYCoord

Thisform.MouseDown( nButton, nShift, nXCoord, nYCoord )
ENDPROC
PROCEDURE When

Return ! This.lForceReadOnly

ENDPROCPROCEDURE autofit
Lparameters tnExtraLen As Integer, tnExtraHeight As Integer

Local loTP As Object


Try
    With This As prxlistbox Of fw\comunes\vcx\BaseControls.vcx
        If Empty( .InputMask ) And Empty( .nLength )
            If Pemstatus( .Parent, "nLength", 5 )
                If Empty( .Parent.nLength )
                    Assert .F. Message .Parent.Name + ": Debe definir la propiedad nLength"
                Else
                    .nLength = .Parent.nLength
                Endif
            Else
                Assert .F. Message .Name + ": Debe definir la propiedad InputMask o nLength"
            Endif
        Endif
        tnExtraLen = IfEmpty( tnExtraLen, 0 )
        loTP = Newobject( "TextProperties", "txtProperties.prg" )
        If ! loTP.Process( This, tnExtraLen, tnExtraHeight )
*!*	            loError = Thisform.oError
*!*	            Thisform.cXMLoError = loError.Process( loTP.oError )
*!*	            Throw loError
        Endif
    EndWith

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )

	loError.Process( oErr )
	Throw loError

Finally
    loTP = Null

Endtry

ENDPROC
PROCEDURE fontsize_assign
Lparameters vNewVal As Integer
Local lnOldValue As Integer
Try
    lnOldValue = This.FontSize
    This.FontSize = m.vNewVal
Catch To oErr
    This.FontSize = lnOldValue
Finally
Endtry

ENDPROC
PROCEDURE lforcereadonly_assign
Lparameters tuNewValue As Boolean

This.lForceReadOnly = tuNewValue

ENDPROC
[END METHODS]
[START RESERVED1]
Class[END RESERVED1]
[START RESERVED2]
1[END RESERVED2]
[START RESERVED3]
forecolor Specifies the foreground color used to display text and graphics in an object.
backcolor Specifies the background color used to display text and graphics in an object.
_memberdata XML Metadata for customizable properties
lsamerowasprevius Indica si el control se alinea en la misma fila
inputmask Specifies how data is entered and displayed in a control.
nlength
lforcereadonly Fuerza que el control no tome el foco
*fontsize_assign 
*autofit Auto-resizes one or all visible grid columns.
*lforcereadonly_assign 
[END RESERVED3]
[START RESERVED6]
Pixels[END RESERVED6]

[ RECORD]
[PLATFORM] COMMENT 
[UNIQUEID] RESERVED  
[OBJNAME] prxlistbox
[START PROPERTIES]
Arial, 0, 9, 5, 15, 12, 32, 3, 0
[END PROPERTIES]

[ RECORD]
[PLATFORM] WINDOWS 
[UNIQUEID] _1FA0RIX49
[CLASS] optionbutton
[BASECLASS] optionbutton
[OBJNAME] prxoptionbutton
[START PROPERTIES]
BackStyle = 0
Caption = "Option1"
Height = 17
Width = 61
AutoSize = .T.
_memberdata =      812<VFPData><memberdata name="fontsize" type="Property" favorites="True"/><memberdata name="height" type="Property" favorites="True"/><memberdata name="samerowasprevious" type="property" display="SameRowAsPrevious" favorites="True"/><memberdata name="fontname" type="property" favorites="True"/><memberdata name="fontsize_assign" type="method" display="FontSize_Assign"/><memberdata name="name" type="property" favorites="True"/><memberdata name="lsamerowasprevious" type="property" display="lSameRowAsPrevious"/><memberdata name="lforcereadonly" type="property" display="lForceReadOnly" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'lForceReadOnly'"/><memberdata name="lforcereadonly_assign" type="method" display="lForceReadOnly_Assign"/></VFPData>

lsamerowasprevious = .F.
lforcereadonly = .F.
Name = "prxoptionbutton"
[END PROPERTIES]
[START METHODS]
PROCEDURE KeyPress
LPARAMETERS nKeyCode, nShiftAltCtrl

Thisform.KeyPress( nKeyCode, nShiftAltCtrl )
ENDPROC
PROCEDURE MouseDown
Lparameters nButton, nShift, nXCoord, nYCoord

Thisform.MouseDown( nButton, nShift, nXCoord, nYCoord )

ENDPROC
PROCEDURE When

Return ! This.lForceReadOnly

ENDPROC
PROCEDURE fontsize_assign
Lparameters vNewVal as Integer
Local lnOldValue as Integer
Try
	lnOldValue = This.FontSize
	This.FontSize = m.vNewVal
Catch To oErr
	This.FontSize = lnOldValue
Finally
Endtry
ENDPROC
PROCEDURE lforcereadonly_assign
Lparameters tuNewValue As Boolean

This.lForceReadOnly = tuNewValue

ENDPROC
[END METHODS]
[START RESERVED1]
Class[END RESERVED1]
[START RESERVED2]
1[END RESERVED2]
[START RESERVED3]
_memberdata XML Metadata for customizable properties
lsamerowasprevious Indica si el control se alinea en la misma línea que su predecesor
lforcereadonly Fuerza que el control no tome el foco
*fontsize_assign 
*lforcereadonly_assign 
[END RESERVED3]
[START RESERVED6]
Pixels[END RESERVED6]

[ RECORD]
[PLATFORM] COMMENT 
[UNIQUEID] RESERVED  
[OBJNAME] prxoptionbutton
[START PROPERTIES]
Arial, 0, 9, 5, 15, 12, 32, 3, 0
[END PROPERTIES]

[ RECORD]
[PLATFORM] WINDOWS 
[UNIQUEID] _1FA0RJCF6
[CLASS] optiongroup
[BASECLASS] optiongroup
[OBJNAME] prxoptiongroup
[START PROPERTIES]
MemberClassLibrary = basecontrols.vcx
MemberClass = "prxoptionbutton"
ButtonCount = 0
BackStyle = 0
Value = 0
Height = 46
Width = 71
_memberdata =     2562<VFPData><memberdata name="height" type="Property" favorites="True"/><memberdata name="autofit" type="method" display="Autofit"/><memberdata name="nlastbutton" type="property" display="nLastButton"/><memberdata name="ncurrentbutton" type="property" display="nCurrentButton"/><memberdata name="fontsize" type="property" display="FontSize" favorites="True"/><memberdata name="fontsize_assign" type="method" display="FontSize_Assign"/><memberdata name="nTopPadding" type="property" display="nTopPadding" favorites="True"/><memberdata name="nBottomPadding" type="property" display="nBottomPadding" favorites="True"/><memberdata name="nLeftPadding" type="property" display="nLeftPadding" favorites="True"/><memberdata name="nRightPadding" type="property" display="nRightPadding" favorites="True"/><memberdata name="nGap" type="property" display="nGap" favorites="True"/>
	<memberdata name="anchor" type="property" favorites="True"/><memberdata name="name" type="property" favorites="True"/><memberdata name="readonly_assign" type="method" display="ReadOnly_Assign"/><memberdata name="tooltiptext" type="property" favorites="True"/><memberdata name="tooltiptext_assign" type="method" display="ToolTipText_Assign"/><memberdata name="value_assign" type="method" display="Value_Assign"/><memberdata name="ntoppadding" type="property" display="nTopPadding"/><memberdata name="nleftpadding" type="property" display="nLeftPadding"/><memberdata name="nrightpadding" type="property" display="nRightPadding"/><memberdata name="nbottompadding" type="property" display="nBottomPadding"/><memberdata name="ngap" type="property" display="nGap"/><memberdata name="backstyle" type="property" favorites="True"/><memberdata name="forecolor" type="property" display="ForeColor"/><memberdata name="autosetup" type="method" display="AutoSetup"/><memberdata name="npaddingtop" type="property" display="nPaddingTop"/><memberdata name="npaddingleft" type="property" display="nPaddingLeft"/><memberdata name="npaddingbottom" type="property" display="nPaddingBottom"/><memberdata name="npaddingright" type="property" display="nPaddingRight"/><memberdata name="lautoseup" type="property" display="lAutoSeup"/><memberdata name="lperformautosetup" type="property" display="lPerformAutoSetup"/><memberdata name="lforcereadonly" type="property" display="lForceReadOnly" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'lForceReadOnly'"/><memberdata name="lforcereadonly_assign" type="method" display="lForceReadOnly_Assign"/></VFPData>

nlastbutton = 0
ncurrentbutton = 0
fontsize = 
readonly = .F.
ntoppadding = 0
nleftpadding = 0
nrightpadding = 0
nbottompadding = 0
ngap = 0
npaddingtop = 0
npaddingleft = 0
npaddingbottom = 0
npaddingright = 0
lautoseup = .F.
lperformautosetup = .F.
lforcereadonly = .F.
nlength = 0
Name = "prxoptiongroup"
[END PROPERTIES]
[START METHODS]
PROCEDURE Init
This.Autofit()
ENDPROC
PROCEDURE InteractiveChange
If This.ReadOnly = .T.
	This.Value = This.nLastButton
EndIf

*!*	This.ProgrammaticChange()
ENDPROC
PROCEDURE MouseDown
Lparameters nButton, nShift, nXCoord, nYCoord

Thisform.MouseDown( nButton, nShift, nXCoord, nYCoord )

ENDPROC
PROCEDURE ProgrammaticChange

Try
    With This As prxoptiongroup Of fw\comunes\vcx\BaseControls.vcx
        If ! Empty( .nLastButton )
            .Buttons[ .nLastButton ].FontBold = .F.
        Endif
        .nLastButton = .Value
        If ! Empty( .nLastButton )
            .Buttons[ .nLastButton ].FontBold = .T.
        Endif
    Endwith

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Process( oErr )
	Throw loError

Finally
	
	
EndTry


ENDPROCPROCEDURE When

Return ! This.lForceReadOnly

ENDPROC
PROCEDURE autofit
Lparameters tnExtraLen As Integer, tnExtraHeight As Integer

Local loTP As Object
Local loOptButton As OptionButton
Local lnHeight As Integer
Local lnWidth As Integer
Local lnTop As Integer
Local lnMaxWidth As Integer
Local loPrevious As Boolean


Try
    With This As prxoptiongroup Of FW\Comunes\VCX\BaseControls.vcx
        lnHeight = 0
        lnWidth = 0
        lnTop = .nTopPadding
        tnExtraLen = 4
        loPrevious = .F.
        lnMaxWidth = 0
        loTP = Newobject( "TextProperties", "txtProperties.prg" )
        For Each loOptButton In .Objects
            * loOptButton.FontSize = loOptButton.FontSize + _Screen.oApp.nUpdateFontSize
            loOptButton.FontSize = loOptButton.FontSize + Thisform.oGlobalSettings.oApp.nUpdateFontSize
            loTP.oError = Null
            If ! loTP.Process( loOptButton, tnExtraLen, tnExtraHeight )
                loError = Thisform.oError
                Thisform.cXMLoError = loError.Process( loTP.oError )
            Else
                If loOptButton.lSameRowAsPrevious And !IsEmpty( loPrevious )
                    loOptButton.Top = loPrevious.Top
                    loOptButton.Left = loPrevious.Left + loPrevious.Width + .nGap
                    lnMaxWidth = Max( lnMaxWidth, loOptButton.Left + loOptButton.Width - .nLeftPadding )
                Else
                    lnMaxWidth = Max( lnMaxWidth, loOptButton.Width )
                    loOptButton.Top = lnTop
                    loOptButton.Left = .nLeftPadding
                    lnHeight = loOptButton.Top + loOptButton.Height
                    lnMaxWidth = Max( lnMaxWidth, loOptButton.Width )
                    lnTop = lnHeight + This.nGap
                Endif
                loPrevious = loOptButton
                If Empty( loOptButton.ToolTipText )
                    loOptButton.ToolTipText = .ToolTipText
                Endif
                *!* loOptButton.Top = lnTop
                *!* loOptButton.Left = This.nLeftPadding
                *!*
                *!* lnHeight = loOptButton.Top + loOptButton.Height
                *!* lnWidth = Max( lnWidth, loOptButton.Width )
                *!* lnTop = lnHeight + This.nGap
                *!*
                *!* If Empty( loOptButton.ToolTipText )
                *!* 	loOptButton.ToolTipText = This.ToolTipText
                *!* EndIf
            Endif
        Endfor
        .Height = lnHeight + .nBottomPadding
        .Width = lnMaxWidth + .nLeftPadding + .nRightPadding
    EndWith


Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	
	loError.Process( oErr )
	Throw loError

Finally
    loTP = Null
    loOptButton = Null
    loPrevious = Null
    loError = Null
EndTry



ENDPROC
PROCEDURE fontsize_assign
Lparameters tuNewValue As Integer
Local loButton As OptionButton


Try
    With This As prxoptiongroup Of FW\Comunes\vcx\BaseControls.vcx
        .FontSize = tuNewValue
        For Each loButton In .Buttons
            loButton.FontSize = tuNewValue
        Endfor
    Endwith

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Process( oErr )
	Throw loError

Finally
    loButton = Null
Endtry

ENDPROC
PROCEDURE lforcereadonly_assign
Lparameters tuNewValue As Boolean

With This As prxoptiongroup Of fw\comunes\vcx\BaseControls.vcx
	.lForceReadOnly = tuNewValue
	.SetAll( 'lForceReadOnly', tuNewValue )

	If tuNewValue
		.ReadOnly = tuNewValue

	Endif && tuNewValue

Endwith

ENDPROC
PROCEDURE readonly_assign
Lparameters tuNewValue As Boolean
This.ReadOnly = tuNewValue


ENDPROC
PROCEDURE tooltiptext_assign
Lparameters vNewVal As String
Local loOB As OptionButton

Try
    With This As prxoptiongroup Of FW\Comunes\vcx\BaseControls.vcx
        .ToolTipText = m.vNewVal
        For Each loOB In This.Objects
            If Empty( loOB.ToolTipText )
                loOB.ToolTipText = .ToolTipText
            Endif
        Endfor
    Endwith

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Process( oErr )
	Throw loError

Finally
    loOB = Null
Endtry



ENDPROC
PROCEDURE value_assign
Lparameters vNewVal As Variant

This.Value = m.vNewVal




ENDPROC
[END METHODS]
[START RESERVED1]
Class[END RESERVED1]
[START RESERVED2]
1[END RESERVED2]
[START RESERVED3]
_memberdata XML Metadata for customizable properties
forecolor Specifies the foreground color used to display text and graphics in an object.
nlastbutton Ultimo botón seleccionado
ncurrentbutton Actual Botón Seleccionad
fontsize Specifies the font size for text displayed with an object.
readonly Specifies if the user can edit a control, or specifies if a table or view associated with a Cursor object allows updates.
ntoppadding
nleftpadding
nrightpadding
nbottompadding
ngap
npaddingtop
npaddingleft
npaddingbottom
npaddingright
lautoseup
lperformautosetup
lforcereadonly Fuerza que el control no tome el foco
nlength
*autofit Auto-resizes one or all visible grid columns.
*tooltiptext_assign 
*fontsize_assign 
*readonly_assign 
*value_assign 
*autosetup 
*lforcereadonly_assign 
[END RESERVED3]
[START RESERVED6]
Pixels[END RESERVED6]

[ RECORD]
[PLATFORM] COMMENT 
[UNIQUEID] RESERVED  
[OBJNAME] prxoptiongroup

[ RECORD]
[PLATFORM] WINDOWS 
[UNIQUEID] _1FA0RJY1T
[CLASS] oleboundcontrol
[BASECLASS] oleboundcontrol
[OBJNAME] prxoleboundcontrol
[START PROPERTIES]
Height = 100
Width = 100
Name = "prxoleboundcontrol"
[END PROPERTIES]
[START RESERVED1]
Class[END RESERVED1]
[START RESERVED2]
1[END RESERVED2]
[START RESERVED6]
Pixels[END RESERVED6]

[ RECORD]
[PLATFORM] COMMENT 
[UNIQUEID] RESERVED  
[OBJNAME] prxoleboundcontrol

[ RECORD]
[PLATFORM] WINDOWS 
[UNIQUEID] _1FA0RLQR8
[CLASS] projecthook
[BASECLASS] projecthook
[OBJNAME] prxprojecthook
[START PROPERTIES]
Height = 22
Width = 23
Name = "prxprojecthook"
[END PROPERTIES]
[START RESERVED1]
Class[END RESERVED1]
[START RESERVED2]
1[END RESERVED2]
[START RESERVED6]
Pixels[END RESERVED6]

[ RECORD]
[PLATFORM] COMMENT 
[UNIQUEID] RESERVED  
[OBJNAME] prxprojecthook

[ RECORD]
[PLATFORM] WINDOWS 
[UNIQUEID] _1FA0RM1R7
[CLASS] relation
[BASECLASS] relation
[OBJNAME] prxrelation
[START PROPERTIES]
Height = 23
Width = 23
Name = "prxrelation"
[END PROPERTIES]
[START RESERVED1]
Class[END RESERVED1]
[START RESERVED2]
1[END RESERVED2]
[START RESERVED6]
Pixels[END RESERVED6]

[ RECORD]
[PLATFORM] COMMENT 
[UNIQUEID] RESERVED  
[OBJNAME] prxrelation

[ RECORD]
[PLATFORM] WINDOWS 
[UNIQUEID] _1FA0RMEK5
[CLASS] reportlistener
[BASECLASS] reportlistener
[OBJNAME] prxreportlistener
[START PROPERTIES]
Height = 23
Width = 23
FRXDataSession = -1
Name = "prxreportlistener"
[END PROPERTIES]
[START RESERVED1]
Class[END RESERVED1]
[START RESERVED2]
1[END RESERVED2]
[START RESERVED6]
Pixels[END RESERVED6]

[ RECORD]
[PLATFORM] COMMENT 
[UNIQUEID] RESERVED  
[OBJNAME] prxreportlistener

[ RECORD]
[PLATFORM] WINDOWS 
[UNIQUEID] _1FA0RMON3
[CLASS] separator
[BASECLASS] separator
[OBJNAME] prxseparator
[START PROPERTIES]
Height = 0
Width = 0
Name = "prxseparator"
[END PROPERTIES]
[START RESERVED1]
Class[END RESERVED1]
[START RESERVED2]
1[END RESERVED2]
[START RESERVED6]
Pixels[END RESERVED6]

[ RECORD]
[PLATFORM] COMMENT 
[UNIQUEID] RESERVED  
[OBJNAME] prxseparator

[ RECORD]
[PLATFORM] WINDOWS 
[UNIQUEID] _1FA0RMXIK
[CLASS] shape
[BASECLASS] shape
[OBJNAME] prxshape
[START PROPERTIES]
Height = 17
Width = 100
_memberdata =      601<VFPData><memberdata name="backcolor" type="Property" favorites="True"/><memberdata name="backstyle" type="Property" favorites="True"/><memberdata name="bordercolor" type="Property" favorites="True"/><memberdata name="borderwidth" type="Property" favorites="True"/><memberdata name="curvature" type="Property" favorites="True"/><memberdata name="height" type="Property" favorites="True"/><memberdata name="width" type="Property" favorites="True"/><memberdata name="height_assign" type="method" display="Height_Assign"/><memberdata name="width_assign" type="method" display="Width_Assign"/></VFPData>

Name = "prxshape"
[END PROPERTIES]
[START METHODS]
PROCEDURE MouseDown
Lparameters nButton, nShift, nXCoord, nYCoord

Thisform.MouseDown( nButton, nShift, nXCoord, nYCoord )

ENDPROC
[END METHODS]
[START RESERVED1]
Class[END RESERVED1]
[START RESERVED2]
1[END RESERVED2]
[START RESERVED3]
_memberdata XML Metadata for customizable properties
[END RESERVED3]
[START RESERVED6]
Pixels[END RESERVED6]

[ RECORD]
[PLATFORM] COMMENT 
[UNIQUEID] RESERVED  
[OBJNAME] prxshape

[ RECORD]
[PLATFORM] WINDOWS 
[UNIQUEID] _1FA0RN70C
[CLASS] spinner
[BASECLASS] spinner
[OBJNAME] prxspinner
[START PROPERTIES]
Height = 27
Margin = 2
Width = 120
_memberdata =     1391<VFPData><memberdata name="autofit" type="method" display="Autofit"/><memberdata name="format" type="Property" favorites="True"/><memberdata name="inputmask" type="Property" favorites="True"/><memberdata name="increment" type="Property" favorites="True"/><memberdata name="keyboardhighvalue" type="Property" favorites="True"/><memberdata name="keyboardlowvalue" type="Property" favorites="True"/><memberdata name="spinnerhighvalue" type="Property" favorites="True"/><memberdata name="spinnerlowvalue" type="Property" favorites="True"/><memberdata name="fontbold" type="Property" favorites="True"/><memberdata name="fontsize" type="Property" favorites="True"/><memberdata name="height" type="Property" favorites="True"/><memberdata name="width" type="Property" favorites="True"/><memberdata name="margin" type="Property" favorites="True"/><memberdata name="lconfirm" type="property" display="lConfirm" favorites="True"/><memberdata name="oldconfirm" type="property" display="OldConfirm"/><memberdata name="lforcereadonly" type="property" display="lForceReadOnly" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'lForceReadOnly'"/><memberdata name="lforcereadonly_assign" type="method" display="lForceReadOnly_Assign"/><memberdata name="coldinputmask" display="cOldInputMask"/><memberdata name="nlength" display="nLength"/></VFPData>
lconfirm = .T.
oldconfirm = 
lforcereadonly = .F.
coldinputmask = 
nlength = 0
Name = "prxspinner"
[END PROPERTIES]
[START METHODS]
PROCEDURE GotFocus
Set Cursor On
* if it has an empty value, moves the cursor to the begining of the box
If Empty( This.Value)
	This.SelStart = 0
Endif

This.OldConfirm = Set("Confirm")
If This.lConfirm
	Set Confirm On
Else
	Set Confirm Off
Endif

This.cOldInputMask = This.InputMask
This.InputMask = Strtran( This.InputMask, ",","" )

ENDPROC
PROCEDURE Init
If Vartype( _Screen.oApp ) == "O"
    This.FontSize = This.FontSize + _Screen.oApp.nUpdateFontSize
Endif

ENDPROC
PROCEDURE KeyPress
Lparameters  nKeyCode, nShiftAltCtrl

* When set point is comma, allows the user to use the "." interactively
If Vartype( This.Value ) = "N" ;
        and "." $ This.InputMask ;
        and nShiftAltCtrl = 0 ;
        and Set("point") = "," ;
        and nKeyCode = Asc(".")

    Nodefault
    Keyboard ","
EndIf

Thisform.KeyPress( nKeyCode, nShiftAltCtrl )

ENDPROC
PROCEDURE LostFocus
Set Cursor Off

If This.OldConfirm = "ON"
	Set Confirm On	
Else
	Set Confirm Off
EndIf

This.InputMask = This.cOldInputMask



ENDPROC
PROCEDURE MouseDown
Lparameters  nButton, nShift, nXCoord, nYCoord

Thisform.MouseDown( nButton, nShift, nXCoord, nYCoord )

ENDPROC
PROCEDURE When

Return ! This.lForceReadOnly

ENDPROCPROCEDURE autofit
Lparameters tnExtraLen As Integer, tnExtraHeight As Integer

#INCLUDE "FW\Comunes\Include\Praxis.h"
#Define SCROLLWIDTH 20

Local loTP As Object

Try
    Assert !Empty( This.InputMask ) Message "Debe definir la propiedad InputMask"
    tnExtraLen = IfEmpty( tnExtraLen, 0 )
    loTP = Newobject( "TextProperties","txtProperties.prg" )
    If ! loTP.Process( This, tnExtraLen, tnExtraHeight )
        loError = Newobject( "ErrorHandler", "Tools\ErrorHandler\Prg\ErrorHandler.prg" )
        loError.Process( loTP.oError )
    Endif
    This.Width = This.Width + SCROLLWIDTH


Catch To oErr
Finally
    loTP = .F.

Endtry

ENDPROC
PROCEDURE fontsize_assign
Lparameters vNewVal As Integer
Local lnOldValue As Integer
Try
    lnOldValue = This.FontSize
    This.FontSize = m.vNewVal
Catch To oErr
    This.FontSize = lnOldValue
Finally
Endtry

ENDPROC
PROCEDURE lforcereadonly_assign
Lparameters tuNewValue As Boolean

This.lForceReadOnly = tuNewValue

If tuNewValue
	This.ReadOnly = tuNewValue

Endif && tuNewValue

ENDPROC
[END METHODS]
[START RESERVED1]
Class[END RESERVED1]
[START RESERVED2]
1[END RESERVED2]
[START RESERVED3]
_memberdata XML Metadata for customizable properties
lconfirm
oldconfirm
lforcereadonly Fuerza que el control no tome el foco
coldinputmask
nlength
*autofit Auto-resizes one or all visible grid columns.
*fontsize_assign 
*lforcereadonly_assign 
[END RESERVED3]
[START RESERVED6]
Pixels[END RESERVED6]

[ RECORD]
[PLATFORM] COMMENT 
[UNIQUEID] RESERVED  
[OBJNAME] prxspinner
[START PROPERTIES]
Arial, 0, 9, 5, 15, 12, 32, 3, 0
[END PROPERTIES]
[START RESERVED1]
  ..\include\praxis.h&~lA@ ..\include\foxpro.h.*z
; ..\include\strings.h6:[é:[END RESERVED1]

[ RECORD]
[PLATFORM] WINDOWS 
[UNIQUEID] _1FA0RNIBJ
[CLASS] textbox
[BASECLASS] textbox
[OBJNAME] prxtextbox
[START PROPERTIES]
Margin = 2
Width = 100
_memberdata =     2332<VFPData><memberdata name="documentacion" type="method" display="Documentacion" favorites="True"/><memberdata name="editmode" type="method" display="EditMode"/><memberdata name="idlemode" type="method" display="IdleMode"/><memberdata name="autofit" type="method" display="AutoFit"/><memberdata name="fontstyle" type="method" display="FontStyle"/><memberdata name="length" type="property" display="Length" favorites="True"/><memberdata name="format" type="Property" favorites="True"/><memberdata name="inputmask" type="Property" favorites="True"/><memberdata name="fontbold" type="Property" favorites="True"/><memberdata name="fontsize" type="Property" favorites="True"/><memberdata name="width" type="Property" favorites="True"/><memberdata name="height" type="Property" favorites="True"/><memberdata name="margin" type="Property" favorites="True"/><memberdata name="lautosetup" type="property" display="lAutoSetUp" favorites="True"/><memberdata name="confirm" type="property" display="Confirm" favorites="True"/><memberdata name="oldconfirm" type="property" display="OldConfirm"/><memberdata name="lconfirm" type="property" display="lConfirm" favorites="True"/><memberdata name="lvisible" type="property" display="lVisible"/><memberdata name="ltabstop" type="property" display="lTabStop"/><memberdata name="contextualmenu" type="method" display="ContextualMenu"/><memberdata name="classbeforecontextualmenu" type="method" display="ClassBeforeContextualMenu"/><memberdata name="classaftercontextualmenu" type="method" display="ClassAfterContextualMenu"/><memberdata name="hookbeforecontextualmenu" type="method" display="HookBeforeContextualMenu" favorites="True"/><memberdata name="hookaftercontextualmenu" type="method" display="HookAfterContextualMenu" favorites="True"/><memberdata name="fontname" type="property" favorites="True"/><memberdata name="fontsize_assign" type="method" display="FontSize_Assign"/><memberdata name="nlength" type="property" display="nLength"/><memberdata name="lforcereadonly" type="property" display="lForceReadOnly" script="do 'C:\PROGRAM FILES\MICROSOFT VISUAL FOXPRO 9\NEWPROPERTYDIALOG\PropertyEditor.app' with 'Toggle', 'lForceReadOnly'"/><memberdata name="lforcereadonly_assign" type="method" display="lForceReadOnly_Assign"/><memberdata name="coldinputmask" display="cOldInputMask"/></VFPData>
lautosetup = .F.
oldconfirm = OFF
lconfirm = .T.
lvisible = .T.
ltabstop = .T.
nlength = 0
lforcereadonly = .F.
coldinputmask = 
Name = "prxtextbox"
[END PROPERTIES]
[START PROTECTED]
classbeforecontextualmenu
classaftercontextualmenu
[END PROTECTED]
[START METHODS]
PROCEDURE GotFocus
Set Cursor On
With This As  prxtextbox Of FW\Comunes\vcx\BaseControls.vcx
    * if it has an empty value, moves the cursor to the begining of the box
    If Empty( .Value)
        .SelStart = 0
    Endif

    .OldConfirm = Set( "Confirm" )
    If .lConfirm
        Set Confirm On
    Else
        Set Confirm Off
    EndIf

    If Vartype( This.Value ) = "N"
		This.cOldInputMask = This.InputMask
		This.InputMask = Strtran( This.InputMask, ",","" )
    EndIf
Endwith


ENDPROC
PROCEDURE Init

With This As prxtextbox Of FW\Comunes\vcx\BaseControls.vcx
	Try
		If .Parent.BaseClass = "Column"
			.BorderStyle = 0
		Endif
	Catch
	Finally
	Endtry

	*!*	If Vartype( _Screen.oApp ) == "O"
	*!*	    .FontSize = .FontSize + _Screen.oApp.nUpdateFontSize
	*!*	EndIf
	Try
		.FontSize = .FontSize + Thisform.oGlobalSettings.oApp.nUpdateFontSize
	Catch To oErr
	Finally
	Endtry

Endwith

ENDPROC
PROCEDURE KeyPress
Lparameters  nKeyCode, nShiftAltCtrl

With This As prxtextbox Of FW\Comunes\vcx\BaseControls.vcx
	* When set point is comma, allows the user to use the "." interactively
	If Vartype( .Value ) = "N" ;
			And "." $ .InputMask ;
			And nShiftAltCtrl = 0 ;
			And Set( "point" ) = "," ;
			And nKeyCode = Asc( "." )
		Nodefault
		Keyboard ","
	Endif

	Thisform.KeyPress( nKeyCode, nShiftAltCtrl )
	
Endwith

ENDPROC
PROCEDURE LostFocus
Set Cursor Off
With This As prxtextbox Of FW\Comunes\vcx\BaseControls.vcx

    If .OldConfirm = "ON"
        Set Confirm On
    Else
        Set Confirm Off
    EndIf

    If Vartype( This.Value ) = "N"
		This.InputMask = This.cOldInputMask
    EndIf

Endwith

ENDPROC
PROCEDURE MouseDown
Lparameters nButton, nShift, nXCoord, nYCoord

Do Case
    Case nButton = 2 And nShift = 0 && Right Click

        Local lcTipo, lnSuma, ldFecha_de_Menu
        *!*	luValor = this.value
        *!*	lcTipo  = type( "luValor" )

        lcTipo = Vartype( This.Value )
        lnSuma = 0
        ldFecha_de_Menu = {}

        Define Popup emergente SHORTCUT Relative From Mrow(),Mcol()

        *!*	Si es una fecha, se muestra la opcion de Calendario.
        If Inlist( lcTipo, "D", "T" ) Then
            lnSuma = 2
            Define Bar 1 Of emergente Prompt "\<Opciones de fecha"
            On Bar 1 Of emergente Activate Popup fechas
            Define Bar 2  Of emergente Prompt "\-"
        Endif


        *!*	Definir el menu.
        Define Bar _Med_undo Of emergente Prompt "\<Deshacer" Key CTRL+Z, "" ;
            message "Deshace el último comando o acción."
        Define Bar _Med_redo Of emergente Prompt "Re\<hacer" Key CTRL+R, "" ;
            message "Repite el último comando o acción."
        Define Bar 3 + lnSuma Of emergente Prompt "\-"
        Define Bar _Med_cut Of emergente Prompt "Cor\<tar" Key CTRL+X, "" ;
            message "Quita la selección y la coloca en el Portapapeles."
        Define Bar _Med_copy Of emergente Prompt "\<Copiar" Key CTRL+C, "" ;
            message "Copia la selección al Portapapeles."
        Define Bar _Med_paste Of emergente Prompt "Peg\<ar"	Key CTRL+V, "" ;
            message "Pega el contenido del Portapapeles."
        Define Bar 7 + lnSuma Of emergente Prompt "\-"
        Define Bar _Med_slcta Of emergente Prompt "\<Seleccionar todo" Key CTRL+A, "" ;
            message "Selecciona todos los elementos o texto de la ventana actual."


        *!*	Definir el menu de la fecha.
        If Inlist( lcTipo, "D", "T" ) Then
            Define Popup fechas SHORTCUT Relative
            Define Bar 1 Of fechas Prompt "Pri\<mer día del año"
            Define Bar 2 Of fechas Prompt "\<Primer día del mes"
            Define Bar 3 Of fechas Prompt "\<Primer día de la semana"
            Define Bar 4 Of fechas Prompt "Día de \<hoy"
            Define Bar 5 Of fechas Prompt "\<Ultimo día de la semana"
            Define Bar 6 Of fechas Prompt "\<Ultimo día del mes"
            Define Bar 7 Of fechas Prompt "U\<ltimo día del año"
            *	Define Bar 6 Of fechas Prompt "\-"
            *	Define Bar 7 Of fechas Prompt "\<Calendario"
            On Selection Bar 1 Of fechas ldFecha_de_Menu = Ctod( "01/01/" + Alltrim( Str( Year( Date() ) ) ) )
            On Selection Bar 2 Of fechas ldFecha_de_Menu = ( Date() - Day( Date() ) + 1 )
            On Selection Bar 3 Of fechas ldFecha_de_Menu = ( Date() - Dow( Date(), 2 ) + 1 )
            On Selection Bar 4 Of fechas ldFecha_de_Menu = Date()
            On Selection Bar 5 Of fechas ldFecha_de_Menu = ( Date() - Dow( Date(), 2 ) + 7 )
            On Selection Bar 6 Of fechas ldFecha_de_Menu = Gomont( Date(), 1 ) - Day( Gomont( Date(), 1 ) )
            On Selection Bar 7 Of fechas ldFecha_de_Menu = Ctod( "31/12/" + Alltrim( Str( Year( Date() ) ) ) )
            *	On Selection Bar 7 Of fechas Do Form Forms\SYS_Calendario With lxValor To ldFecha_de_Menu
        Endif

        Activate Popup emergente

        If ! Empty( ldFecha_de_Menu )
            This.Value = ldFecha_de_Menu
        Endif
Endcase

ENDPROC
PROCEDURE When

Return ! This.lForceReadOnly

ENDPROCPROCEDURE autofit
Lparameters tnExtraLen As Integer, tnExtraHeight As Integer

Local loTP As Object

Try
    With This As prxtextbox Of FW\Comunes\vcx\BaseControls.vcx
        Try
            If Empty( .InputMask ) And Empty( .nLength )
                If Pemstatus( .Parent, "nLength", 5 )
                    If Empty( .Parent.nLength )
                        Assert .F. Message .Parent.Name + ": Debe definir la propiedad nLength"
                    Else
                        .nLength = .Parent.nLength
                    Endif
                Else
                    Assert .F. Message .Name + ": Debe definir la propiedad InputMask o nLength"
                Endif
            Endif
        Catch
        Finally
        Endtry

        If Empty( tnExtraLen )
            tnExtraLen = 2
        Endif

        If Empty( tnExtraHeight )
            tnExtraHeight = 1.2
        Endif

        loTP = Newobject( "TextProperties", "txtProperties.prg" )
        If ! loTP.Process( This, tnExtraLen, tnExtraHeight )
            loError = Thisform.oError
            Thisform.cXMLoError = loError.Process( loTP.oError )
            Throw loError
        Endif
    EndWith


Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	
	loError.Process( oErr )
	Throw loError

Finally
    loTP = Null
Endtry

ENDPROC
PROCEDURE fontsize_assign
Lparameters vNewVal as Integer
Local lnOldValue as Integer
Try
	lnOldValue = This.FontSize
	This.FontSize = m.vNewVal
Catch To oErr
	This.FontSize = lnOldValue
Finally
Endtry



ENDPROC
PROCEDURE lforcereadonly_assign
Lparameters tuNewValue As Boolean

This.lForceReadOnly = tuNewValue

* DA 2009-09-25(10:41:01)
* Cuando viene tuNewValue en .F., no vuelve a habilitar el control.
*!*	If tuNewValue
*!*		This.ReadOnly = tuNewValue

*!*	Endif && tuNewValue
This.ReadOnly = tuNewValue
ENDPROC
[END METHODS]
[START RESERVED1]
Class[END RESERVED1]
[START RESERVED2]
1[END RESERVED2]
[START RESERVED3]
_memberdata XML Metadata for customizable properties
length La clase txtProperties puede utlilizar esta propiedad para calcular la propiedad Width
lautosetup Indica si el control ejecuta el metodo AutoSetup()
oldconfirm Estado anterior de la variable de entorno CONFIRM
lconfirm Ejecuta el comando SET CONFIRM ON/OFF dependiendo de ésta propiedad
lvisible
ltabstop
nlength
lforcereadonly Fuerza que el control no tome el foco
coldinputmask
*editmode Indica el comportamiento del control en modo ediición
*documentacion Se utiliza para documentar la funcionalidad del control 
*idlemode Indica el comportamiento del control en modo  inactivo
*autofit Ajusta el Tamaño del control al texto contenido en él
*fontsize_assign 
*contextualmenu 
*classbeforecontextualmenu 
*classaftercontextualmenu 
*hookbeforecontextualmenu 
*hookaftercontextualmenu 
*lforcereadonly_assign 
[END RESERVED3]
[START RESERVED6]
Pixels[END RESERVED6]

[ RECORD]
[PLATFORM] COMMENT 
[UNIQUEID] RESERVED  
[OBJNAME] prxtextbox
[START PROPERTIES]
Arial, 0, 9, 5, 15, 12, 32, 3, 0
[END PROPERTIES]

[ RECORD]
[PLATFORM] WINDOWS 
[UNIQUEID] _1FA0RNT8N
[CLASS] timer
[BASECLASS] timer
[OBJNAME] prxtimer
[START PROPERTIES]
Height = 23
Width = 23
Name = "prxtimer"
[END PROPERTIES]
[START RESERVED1]
Class[END RESERVED1]
[START RESERVED2]
1[END RESERVED2]
[START RESERVED6]
Pixels[END RESERVED6]

[ RECORD]
[PLATFORM] COMMENT 
[UNIQUEID] RESERVED  
[OBJNAME] prxtimer

[ RECORD]
[PLATFORM] WINDOWS 
[UNIQUEID] _1FA0RO5FO
[CLASS] toolbar
[BASECLASS] toolbar
[OBJNAME] prxtoolbar
[START PROPERTIES]
Caption = "Toolbar1"
_memberdata =      219<VFPData><memberdata name="execute" type="Method" display="Execute" favorites="True" override="True"/><memberdata name="linkedobject" type="property" display="LinkedObject" favorites="True" override="True"/></VFPData>

linkedobject = 
Name = "prxtoolbar"
[END PROPERTIES]
[START METHODS]
PROCEDURE execute
Lparameters tcMethod, tcParameters

Local lcLinkedObject As String, loObj As Object

* Ejecuta un metodo en un objeto asociado
* En la propiedad This.LinkedObject se encuentra el nombre del
* objeto o una referencia al mismo
* El método a ejecutarse se especifica en el parametro tcMetyhod
* Si lleva parámetros, la lista se especifica en tcParameters

If Type( This.LinkedObject ) == "O"
    lcLinkedObject = This.LinkedObject

    * Verifica si es una referencia al objeto o el nombre del mismo
    If Vartype( lcLinkedObject ) == "O"
        loObj = lcLinkedObject
    Else
        loObj = &lcLinkedObject
    Endif

    * Verifica que el loObj tenga el método tcMethod
    If Pemstatus( loObj, tcMethod, 5 )

        * Si el objeto es un contenedor, y tiene un control activo,
        * obtiene el foco para forzar la actualizacion del valor

        If Pemstatus( loObj, "ActiveControl", 5 ) ;
                and Vartype( loObj.ActiveControl ) = "O"
            Local loControl
            loControl = loObj.ActiveControl

            If Inlist( loControl.BaseClass, "Textbox", "Editbox", "Checkbox" )
                loControl.SetFocus()
            Endif
        Endif

        Local lcParameters As String
        * Arma la lista de parámetros
        lcParameters = Iif( Empty( tcParameters ), "", "( "+ tcParameters +" )" )

        * Ejecuta el Método
        loObj.&tcMethod &lcParameters

    Endif

Endif




ENDPROC
[END METHODS]
[START RESERVED1]
Class[END RESERVED1]
[START RESERVED2]
1[END RESERVED2]
[START RESERVED3]
_memberdata XML Metadata for customizable properties
linkedobject Nombre del Objeto vinculado a la ToolBar
*execute Ejecuta una acción sobre el objeto asociado
[END RESERVED3]
[START RESERVED6]
Pixels[END RESERVED6]

[ RECORD]
[PLATFORM] COMMENT 
[UNIQUEID] RESERVED  
[OBJNAME] prxtoolbar

[ RECORD]
[PLATFORM] WINDOWS 
[UNIQUEID] _1FC0XB71S
[CLASS] olecontrol
[BASECLASS] olecontrol
[OBJNAME] prximagelist
[START PROPERTIES]
_memberdata = 
lforcereadonly = .F.
Name = "prximagelist"
[END PROPERTIES]
[BINSTART OLE]
CHECKSUM=17223
[BINEND OLE]
[BINSTART OLE2]
CHECKSUM=21978
[BINEND OLE2]
[START RESERVED1]
Class[END RESERVED1]
[START RESERVED2]
1[END RESERVED2]
[START RESERVED3]
_memberdata XML Metadata for customizable properties
lforcereadonly Fuerza que el control no tome el foco
[END RESERVED3]
[START RESERVED6]
Pixels[END RESERVED6]

[ RECORD]
[PLATFORM] COMMENT 
[UNIQUEID] RESERVED  
[OBJNAME] prximagelist

[ RECORD]
[PLATFORM] WINDOWS 
[UNIQUEID] _1S50XUDKT
[CLASS] pageframe
[BASECLASS] pageframe
[OBJNAME] prxpageframe
[START PROPERTIES]
ErasePage = .T.
MemberClassLibrary = basecontrols.vcx
MemberClass = "prxpage"
PageCount = 1
ActivePage = 1
Height = 169
Themes = .F.
_memberdata =     3893<VFPData><memberdata name="nGap" type="property" display="nGap" favorites="True"/><memberdata name="ocolobjects" type="property" display="oColObjects"/><memberdata name="maxheight" type="property" display="MaxHeight"/><memberdata name="maxwidth" type="property" display="MaxWidth"/><memberdata name="nBottomPadding" type="Property" favorites="True"/><memberdata name="nLeftPadding" type="Property" favorites="True"/><memberdata name="nTopPadding" type="Property" favorites="True"/><memberdata name="nRightPadding" type="Property" favorites="True"/><memberdata name="llllllPerformAutoSetUp" type="Property" favorites="True"/><memberdata name="loldPerformAutoSetUp" type="property" display="loldPerformAutoSetUp"/><memberdata name="releaseobjects" type="method" display="ReleaseObjects"/><memberdata name="releasepageobjects" type="method" display="ReleasePageObjects"/><memberdata name="getpagename" type="method" display="GetPageName"/><memberdata name="pagebackcolor" type="property" display="PageBackColor"/><memberdata name="pagefontsize" type="property" display="PageFontSize"/><memberdata name="pagefontname" type="property" display="PageFontName"/><memberdata name="pageactivates" type="method" display="PageActivates"/><memberdata name="pagedeactivates" type="method" display="PageDeactivates"/><memberdata name="lautosetup" type="property" display="lAutoSetup" favorites="True"/><memberdata name="ntoppadding" type="property" display="nTopPadding"/><memberdata name="nleftpadding" type="property" display="nLeftPadding"/><memberdata name="nrightpadding" type="property" display="nRightPadding"/><memberdata name="nbottompadding" type="property" display="nBottomPadding"/><memberdata name="ngap" type="property" display="nGap"/><memberdata name="nmaxheight" type="property" display="nMaxHeight"/><memberdata name="nmaxwidth" type="property" display="nMaxWidth"/><memberdata name="npagebackcolor" type="property" display="nPageBackColor"/><memberdata name="npagefontsize" type="property" display="nPageFontSize"/><memberdata name="cpagefontname" type="property" display="cPageFontName"/><memberdata name="oactivepage" type="property" display="oActivePage"/><memberdata name="nactivepageindex" type="property" display="nActivePageIndex"/><memberdata name="nactivepageindex_access" type="method" display="nActivePageIndex_Access"/><memberdata name="nactivepageindex_assign" type="method" display="nActivePageIndex_Assign"/><memberdata name="oentity" type="property" display="oEntity"/><memberdata name="oentity_access" type="method" display="oEntity_Access"/><memberdata name="classbeforeautosetup" type="method" display="ClassBeforeAutoSetup"/><memberdata name="classafterautosetup" type="method" display="ClassAfterAutoSetup"/><memberdata name="hookbeforeautosetup" type="method" display="HookBeforeAutoSetup"/><memberdata name="hookafterautosetup" type="method" display="HookAfterAutoSetup"/><memberdata name="fittoparent" type="method" display="FitToParent"/><memberdata name="lfittoparent" type="property" display="lFitToParent"/><memberdata name="nfitmode" type="property" display="nFitMode"/><memberdata name="ncol" type="property" display="nCol"/><memberdata name="ncolspan" type="property" display="nColSpan"/><memberdata name="nrow" type="property" display="nRow"/><memberdata name="nrowspan" type="property" display="nRowSpan"/><memberdata name="getmeasures" type="method" display="GetMeasures"/><memberdata name="lazyload" type="method" display="LazyLoad"/><memberdata name="beforebindcontrols" type="method" display="BeforeBindControls"/><memberdata name="nupdatefontsize" type="property" display="nUpdateFontSize"/><memberdata name="nupdatefontsize_assign" type="property" display="nUpdateFontSize_Assign"/><memberdata name="getpage" type="method" display="GetPage"/><memberdata name="ntabsrows" display="nTabsRows"/><memberdata name="lhastabs" display="lHasTabs"/></VFPData>
nmaxwidth = 0
nmaxheight = 0
loldperformautosetup = .F.
pagebackcolor = 0
pagefontsize = 0
pagefontname = 
lautosetup = .T.
lperformautosetup = .T.
ntoppadding = 0
nleftpadding = 0
nrightpadding = 0
nbottompadding = 0
ngap = 0
npagebackcolor = 0
npagefontsize = 9
cpagefontname = 
oactivepage = .NULL.
nactivepageindex = 0
oentity = .NULL.
lfittoparent = .T.
nfitmode = 5
nrow = 0
nrowspan = 1
ncol = 0
ncolspan = 1
nupdatefontsize = 0
ntabsrows = 1
lhastabs = .T.
Name = "prxpageframe"
Prxpage1.marco.Shape.Name = "Shape"
Prxpage1.marco.shpLabel.Name = "shpLabel"
Prxpage1.marco.lblTitulo.Name = "lblTitulo"
Prxpage1.marco.Name = "marco"
Prxpage1.Caption = "Prxpage1"
Prxpage1.Name = "Prxpage1"
[END PROPERTIES]
[START PROTECTED]
classbeforeautosetup
classafterautosetup
[END PROTECTED]
[START METHODS]
PROCEDURE Init

This.PageFontSize = This.PageFontSize + Thisform.oGlobalSettings.nUpdateFontSize

If Pemstatus( Thisform, 'HookBeforeBindControls', 5 )
	Bindevent( Thisform, "HookBeforeBindControls", This, "BeforeBindControls", 1 )

Endif

This.Tabs = This.lHasTabs




ENDPROCPROCEDURE MouseDown
Lparameters nButton, nShift, nXCoord, nYCoord

Thisform.MouseDown( nButton, nShift, nXCoord, nYCoord )

ENDPROC
PROCEDURE autosetup
Lparameters tlOnlyPosition As Boolean

#INCLUDE 'FW\Comunes\Include\Praxis.h'

Local loAutoSetup As AutoSetUp Of 'FW\Comunes\Prg\AutoSetUp.prg'
Local loPage As Page
Local loObj As Object
Local lnMaxHeight As Integer
Local lnMaxWidth As Integer
Local lnFS As Integer

Try
    With This As  prxpageframe Of FW\Comunes\vcx\BaseControls.vcx
        If .ClassBeforeAutoSetup( tlOnlyPosition )
            If .HookBeforeAutoSetup( tlOnlyPosition )

                lnMaxHeight = 0
                lnMaxWidth = 0

                For Each loPage In .Pages
                    If ! Pemstatus( loPage, 'oColObjects', 5 )
                        loPage.AddProperty( 'oColObjects', Null )
                    Endif
                    If ! Pemstatus( loPage, 'nHeight', 5 )
                        loPage.AddProperty( 'nHeight', 0 )
                    Endif


                    If ! Pemstatus( loPage, 'nWidth', 5 )
                        loPage.AddProperty( 'nWidth', 0 )
                    Endif


                    If ! Pemstatus( loPage, 'lIsActive', 5 )
                        loPage.AddProperty( 'lIsActive', .F. )
                    Endif

                    If ! Pemstatus( loPage, 'cPageName', 5 )
                        loPage.AddProperty( 'cPageName', .GetPageName( loPage, '' ) )
                    Endif
                    If Empty( loPage.cPageName )
                        loPage.cPageName = .GetPageName( loPage, '' )
                    Endif

                    If ! Empty( .nPageBackColor )
                        loPage.BackColor = .nPageBackColor
                    Endif

                    If ! Empty( .nPageFontSize )
                        Try
                            lnFS = loPage.FontSize
                            loPage.FontSize = .nPageFontSize
                        Catch To oErr
                            loPage.FontSize = lnFS
                        Finally
                        Endtry
                    Endif

                    If ! Empty( .cPageFontName )
                        loPage.FontName = .cPageFontName
                    Endif

                    Unbindevent( loPage, 'Activate', This, 'PageActivates' )
                    Bindevent( loPage, 'Activate', This, 'PageActivates' )

                    Unbindevent( loPage, 'Deactivate', This, 'PageDeactivates' )
                    Bindevent( loPage, 'Deactivate', This, 'PageDeactivates' )

                    If Pemstatus( loPage, 'AutoSetup', 5 )
                        loPage.AutoSetUp( tlOnlyPosition )
                        lnMaxHeight = Max( lnMaxHeight, loPage.nHeight )
                        lnMaxWidth = Max( lnMaxWidth, loPage.nWidth )

                    Else
                        loPage.oColObjects = OrderControlsByKey( loPage )
                        loAutoSetup = Newobject( 'AutoSetUp', 'AutoSetUp.prg' )
                        If ! loAutoSetup.Process( loPage,;
                                .nTopPadding,;
                                .nLeftPadding,;
                                .nRightPadding,;
                                .nBottomPadding,;
                                .nGap )

                            loError = Thisform.oError
                            Thisform.cXMLoError = loError.Process( loAutoSetup.oError )
                            Throw loError

                        Else
                            lnMaxHeight = Max( lnMaxHeight, loPage.nHeight )
                            lnMaxWidth = Max( lnMaxWidth, loPage.nWidth )

                        Endif
                    Endif

                Endfor

                If .Tabs
                    lnMaxHeight = lnMaxHeight + ( TABS_HEIGHT * .nTabsRows )
                Endif

                .Height = lnMaxHeight
                .Width = lnMaxWidth

                .HookAfterAutoSetup( tlOnlyPosition )
                .ClassAfterAutoSetup( tlOnlyPosition )
            Endif
        Endif
    EndWith

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Process( oErr )
	Throw loError

Finally
    loAutoSetup = Null
    loObj = Null
    loPage = Null

Endtry

ENDPROC
PROCEDURE beforebindcontrols

Local lcCursorName As String
Local loPage As Page
Local loControl As Control
Local loCombo As ComboBox

Try

	lcCursorName = Thisform.oEntity.cEntityCursor

	If Used( lcCursorName )

		loPage = This.Pages( This.ActivePage )

		If .F.
			* RA 2012-10-09(18:34:21) Por el momento no lo usamos


			For Each loControl In Thisform.oColIb
				If loControl.lHasControlSource
					If Empty( loControl.Dato.ControlSource ) ;
							And loControl.Visible ;
							And Lower( loControl.cBelongToPage ) == Lower( loPage.cPageName )

						If Empty( loControl.cCursorName )
							loControl.cCursorName = lcCursorName

						Endif && Empty( loControl.cCursorName )

						If Empty( loControl.cFieldName )
							loControl.cFieldName = Substr( loControl.Name, 4 )

						Endif && Empty( loControl.cFieldName )

						loControl.Dato.ControlSource = loControl.cCursorName + "." + loControl.cFieldName

					Endif

				Endif

			Endfor

			For Each loCombo In Thisform.oColCombos
				If loCombo.Visible ;
						And Lower( loCombo.cBelongToPage ) == Lower( loPage.cPageName )
					loCombo.PopulateCombo()

				Endif

			Endfor

		Endif
	Endif

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Process( oErr )
	Throw loError

Finally
	loControl = Null
	loCombo = Null

Endtry

ENDPROC
PROCEDURE classbeforeautosetup
Lparameters tlOnlyPosition As Boolean

Return .T.

ENDPROC
PROCEDURE enabled_assign
Lparameters vNewVal

This.Enabled = m.vNewVal
This.SetAll( "Enabled", m.vNewVal )

ENDPROC
PROCEDURE fittoparent
* DAE 2009-08-21(16:59:06)
Local loAutoSetup As AutoSetUp Of "fw\comunes\prg\autosetup.prg"


Try
	With This As prxcontainer Of "fw\comunes\vcx\BaseControls.vcx"

		loAutoSetup = Newobject( "AutoSetUp", "AutoSetUp.prg" )
		If ! loAutoSetup.FitToParent( This )
			loError = Thisform.oError
			loError.Process( loAutoSetup.oError )

		Endif && ! loAutoSetup.FitToParent( This )

	EndWith


Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Process( oErr )
	Throw loError

Finally
	loAutoSetup = Null

Endtry


ENDPROC
PROCEDURE getmeasures
Local loCtrlMeasures As ControlMeasures Of 'fw\comunes\prg\autosetup.prg'


Try
    loCtrlMeasures = Newobject( 'ControlMeasures', 'fw\comunes\prg\autosetup.prg' )
    With This As prxPageFrame Of fw\comunes\vcx\BaseControls.vcx
        loCtrlMeasures.Width = .Width
        loCtrlMeasures.Height = .Height
    Endwith

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Cremark = lcCommand
	loError.Process( oErr )
	Throw loError

Finally
	
	
EndTry

Return loCtrlMeasures



ENDPROC
PROCEDURE getpage
Lparameters eIndex As Variant

Local loPage As prxpage Of fw\comunes\vcx\BaseControls.vcx
Local i As Integer
Try
    loPage = Null
    Do Case
        Case Vartype( eIndex ) = 'N'
            loPage = This.Pages( eIndex )

        Case Vartype( eIndex ) = 'C'

            eIndex = Lower( eIndex )
            loPage = This.Pages( 1 )

            i = 2
            Do While i < This.PageCount And Lower( loPage.cKeyName ) # eIndex
                loPage = This.Pages( i )
                i = i + 1

            Enddo
            If  Lower( loPage.cKeyName ) # eIndex
                loPage = Null
                Error 2061 && "Index or expression does not match an existing member of the collection"
            EndIf

        Otherwise
            Error 9 && "Data type mismatch"

    EndCase

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Process( oErr )
	Throw loError

Finally
	
	
EndTry

Return loPage

ENDPROC
PROCEDURE getpagename
Lparameters toCtrl As Object, tcPageName As String

Local lcName As String
Try
    lcName = ''
    If Lower( toCtrl.BaseClass ) == 'page'
        lcName = toCtrl.Name
    Endif

    If ! Empty( tcPageName ) And Lower( toCtrl.BaseClass ) # 'form'
        lcName = toCtrl.Name + '.' + tcPageName
    Endif

    If Lower( toCtrl.BaseClass ) # 'form'
        lcName = This.GetPageName( toCtrl.Parent, lcName )
    Else
        If ! Empty( tcPageName )
            lcName = 'Thisform.' + tcPageName
        Endif
    Endif

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Cremark = lcCommand
	loError.Process( oErr )
	Throw loError

Finally
	
	
EndTry

Return lcName


ENDPROC
PROCEDURE hookbeforeautosetup
Lparameters tlOnlyPosition As Boolean

Return .T.

ENDPROC
PROCEDURE lazyload
Lparameters toPage As Page

Try

	If Thisform.BindControls
		This.BeforeBindControls()
		
	EndIf && Thisform.BindControls

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Process( oErr )
	Throw loError

Finally
	Thisform.LockScreen = .F.
	
EndTry


ENDPROC
PROCEDURE nactivepageindex_access
Local lnActivePageIndex As Number
Local i As Number
i = 1
lnActivePageIndex = 0
Do While lnActivePageIndex = 0 And i <= This.PageCount
    If This.Pages( i ).PageOrder = This.ActivePage
        lnActivePageIndex = i

    EndIf

    i = i + 1

EndDo

This.nActivePageIndex = lnActivePageIndex

Return This.nActivePageIndex

ENDPROC
PROCEDURE nactivepageindex_assign

Error 1740 && is a read-only property

ENDPROC
PROCEDURE nupdatefontsize_assign
Lparameters tuNewValue
This.nUpdateFontSize = tuNewValue

Local loAutoSetup As AutoSetUp Of "FW\Comunes\Prg\AutoSetUp.prg"

Local loPage As prxPage FW\Comunes\Vcx\BaseControls.vcx
Local oObj As Object
Local lnMaxHeight As Integer,;
	lnMaxWidth As Integer
Try

	lnMaxHeight = 0
	lnMaxWidth = 0

	This.PageFontSize = This.PageFontSize + tuNewValue

	For Each loPage In This.Pages

		For Each oObj In loPage.oColObjects
			oObj.nUpdateFontSize = tuNewValue
			
		Endfor

		If !Empty( This.PageFontSize )
			Try
				Local lnFS As Integer
				lnFS = loPage.FontSize
				loPage.FontSize = This.PageFontSize

			Catch To oErr
				loPage.FontSize = lnFS

			Finally

			Endtry
		Endif

		loAutoSetup = Newobject("AutoSetUp", "AutoSetUp.prg")

		If !loAutoSetup.Process( loPage,;
				This.nTopPadding,;
				This.nLeftPadding,;
				This.nRightPadding,;
				This.nBottomPadding,;
				This.nGap )

			Throw loAutoSetup.oError

		Else
			lnMaxHeight = Max( lnMaxHeight, loPage.Height )
			lnMaxWidth = Max( lnMaxWidth, loPage.Width )

		Endif
	Endfor

	This.Height = lnMaxHeight + This.nTopPadding + This.nBottomPadding
	This.Width = lnMaxWidth + This.nLeftPadding + This.nRightPadding

	For Each loPage In This.Pages
		For Each oObj In loPage.Objects
			If PemStatus( oObj, "lFitToParent", 5 ) And oObj.lFitToParent
				oObj.FitToParent()
			EndIf
		Endfor
	Endfor

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Cremark = lcCommand
	loError.Process( oErr )
	Throw loError

Finally
	
	
EndTry

ENDPROC
PROCEDURE oentity_access

Try
    With This As prxpageframe Of FW\Comunes\vcx\BaseControls.vcx
        If Vartype( .oEntity ) # 'O' And !Thisform.lExit
            .oEntity = .Parent.oEntity
        Endif
    Endwith


Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Process( oErr )
	Throw loError

Finally
	
	
EndTry

Return This.oEntity

ENDPROC
PROCEDURE releaseobjects
Local loPage As Page

Try
    With This As prxpageframe Of FW\Comunes\VCX\BaseControls.vcx
        For Each loPage In .Pages
            .ReleasePageObjects( @loPage )
        Endfor
        .oColObjects = Null
    Endwith

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Process( oErr )
	Throw loError
Finally
    loPage = Null
Endtry

ENDPROC
PROCEDURE releasepageobjects
Lparameters toPage As Page @

Local loObj As Object

Try
    If Pemstatus( toPage, 'ReleaseObjects', 5 )
        toPage.ReleaseObjects()
    Else
        For Each loObj In toPage.Objects
            If Pemstatus( loObj, 'ReleaseObjects', 5 )
                loObj.ReleaseObjects()
            Endif
        Endfor

        If Pemstatus( toPage, 'oColObjects', 5 )
            toPage.oColObjects = Null
        Endif
    Endif

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Process( oErr )
	Throw loError

Finally
    loObj = Null
Endtry

ENDPROC
[END METHODS]
[START RESERVED1]
Class[END RESERVED1]
[START RESERVED2]
1[END RESERVED2]
[START RESERVED3]
performautosetup
_memberdata XML Metadata for customizable properties
ocolobjects
nmaxwidth Ancho Máximo calculado por el metodo AutoSetup() de cada Page
nmaxheight Alto Máximo calculado por el metodo AutoSetup() de cada Page
loldperformautosetup
pagebackcolor
pagefontsize
pagefontname
lautosetup
lperformautosetup
ntoppadding
nleftpadding
nrightpadding
nbottompadding
ngap
npagebackcolor
npagefontsize
cpagefontname
oactivepage
nactivepageindex
oentity
lfittoparent Indica si el contenedor ejecuta el método FitToParent
nfitmode La propiedad acepta los siguientes valores ( 1, 2, 4, 8 ) y la combinacion (suma) de alguna de ellas. 1 - FitToLeft | 2 - FitToTop | 4 - FitToRight | 8 - FitToBottom | | Combinaciones: | 5 - FitToWidth | 10 - FitToHeight | 15 - FullFit
nrow
nrowspan
ncol
ncolspan
nupdatefontsize
ntabsrows
lhastabs Indica si tiene Tabs.En tiempo de ejecucion inicializa lam propiedad Tabs con lHasTabs
*autosetup 
*releaseobjects 
*releasepageobjects 
*getpagename 
*pageactivates 
*pagedeactivates 
*nactivepageindex_access 
*nactivepageindex_assign 
*oentity_access 
*classbeforeautosetup 
*classafterautosetup 
*hookbeforeautosetup 
*hookafterautosetup 
*fittoparent 
*getmeasures Devuelve un objeto del tipo Measures ControlMeasures de la libreria fw\comunes\prg\autosetup.prg
*lazyload 
*beforebindcontrols 
*enabled_assign 
*nupdatefontsize_assign 
*getpage Devuelve la referencia a la página según la clave
[END RESERVED3]
[START RESERVED6]
Pixels[END RESERVED6]
[START RESERVED8]
..\include\praxis.h[END RESERVED8]

[ RECORD]
[PLATFORM] COMMENT 
[UNIQUEID] RESERVED  
[OBJNAME] prxpageframe
[START RESERVED1]
  ..\include\praxis.h&~lA@ ..\include\foxpro.h.*z
; ..\include\strings.h6:[é:[END RESERVED1]

[ RECORD]
[PLATFORM] WINDOWS 
[UNIQUEID] _23214F6GM
[CLASS] olecontrol
[BASECLASS] olecontrol
[OBJNAME] prxtreeviewcontrol
[START PROPERTIES]
Height = 100
Width = 100
_memberdata =     2937<VFPData><memberdata name="addchild" type="method" display="AddChild"/><memberdata name="addlast" type="method" display="AddLast"/><memberdata name="addnext" type="method" display="AddNext"/><memberdata name="addprevious" type="method" display="AddPrevious"/><memberdata name="addroot" type="method" display="AddRoot"/><memberdata name="newkey" type="method" display="NewKey"/><memberdata name="setseleted" type="method" display="SetSeleted"/><memberdata name="setselected" type="method" display="SetSelected"/><memberdata name="classbeforesetselected" type="method" display="ClassBeforeSetSelected"/><memberdata name="classaftersetselected" type="method" display="ClassAfterSetSelected"/><memberdata name="hookbeforesetselected" type="method" display="HookBeforeSetSelected"/><memberdata name="hookaftersetselected" type="method" display="HookAfterSetSelected"/><memberdata name="fontsize" type="property" favorites="True" display="FontSize"/><memberdata name="fontsize_assign" type="method" display="FontSize_Assign"/><memberdata name="enabled_assign" type="method" display="Enabled_Assign"/><memberdata name="classbeforeinit" type="method" display="ClassBeforeInit"/><memberdata name="classafterinit" type="method" display="ClassAfterInit"/><memberdata name="hookbeforeinit" type="method" display="HookBeforeInit"/><memberdata name="hookafterinit" type="method" display="HookAfterInit"/><memberdata name="clear" type="method" display="Clear"/><memberdata name="remove" type="method" display="Remove"/><memberdata name="item" type="method" display="Item"/><memberdata name="resetnodes" type="method" display="ResetNodes"/><memberdata name="anchor" type="property" favorites="True"/><memberdata name="lautosetup" type="property" display="lAutoSetup"/><memberdata name="lperformautosetup" type="property" display="lPerformAutoSetup"/><memberdata name="ntoppadding" type="property" display="nTopPadding" favorites="True"/><memberdata name="nbottompadding" type="property" display="nBottomPadding" favorites="True"/><memberdata name="nleftpadding" type="property" display="nLeftPadding" favorites="True"/><memberdata name="nrightpadding" type="property" display="nRightPadding" favorites="True"/><memberdata name="ngap" type="property" display="nGap" favorites="True"/><memberdata name="nrowspan" type="property" display="nRowSpan" favorites="True"/><memberdata name="nrow" type="property" display="nRow" favorites="True"/><memberdata name="ncolspan" type="property" display="nColSpan" favorites="True"/><memberdata name="ncol" type="property" display="nCol" favorites="True"/><memberdata name="autosetup" type="method" display="AutoSetUp"/><memberdata name="getmeasures" type="method" display="GetMeasures"/><memberdata name="oentity" type="property" display="oEntity" favorites="True"/><memberdata name="oentity_access" type="method" display="oEntity_Access" favorites="True"/><memberdata name="oselected" display="oSelected"/></VFPData>
fontsize = 9
lautosetup = .T.
lperformautosetup = .T.
ntoppadding = 0
nbottompadding = 0
nleftpadding = 0
nrightpadding = 0
ngap = 0
nrowspan = 1
nrow = 0
ncolspan = 1
ncol = 0
oentity = .NULL.
lforcereadonly = .F.
oselected = .NULL.
Name = "prxtreeviewcontrol"
[END PROPERTIES]
[START PROTECTED]
classbeforesetselected
classaftersetselected
classbeforeinit
classafterinit
resetnodes
[END PROTECTED]
[START METHODS]
PROCEDURE Destroy

Local lcObjName As String
Try
    With This As prxtreeviewcontrol Of fw\comunes\vcx\BaseControls.vcx
        * Elimino las referencias
        For Each loNode As MSComctlLib.Node In .Nodes
            loNode.Tag = Null

        Endfor

    EndWith

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	
	loError.Process( oErr )
	Throw loError

Finally
    loNode = Null

Endtry

ENDPROCPROCEDURE Init

Try
	With This As prxtreeviewcontrol Of FW\Comunes\vcx\BaseControls.vcx
		If .ClassBeforeInit()
			If .HookBeforeInit()
				.LineStyle = 1 && tvwRootLines
				.Style = 7 && tvwTreelinesPlusMinusPictureText
				.HotTracking = .T.
				.Indentation = 10
				
				.HookAfterInit()
				.ClassAfterInit()

			Endif && .HookBeforeInit()

		Endif && .ClassBeforeInit()

	Endwith

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Process( oErr )
	Throw loError

Finally
	
	
EndTry

ENDPROC
PROCEDURE MouseDown
*** ActiveX Control Event ***
Lparameters Button, Shift, x, Y

DoDefault( Button, Shift, x, Y )

ENDPROC
PROCEDURE addchild
Lparameters tcNodeText As String, ;
	tcNodeKey As String, ;
	tcRelativeNodeKey As String,;
	tnImage As Integer, ;
	tnSelectedImage As Integer,;
	tlRefresh As Boolean

#INCLUDE "FW\Comunes\Include\Praxis.h"


Local lnRelation As Integer
Local lcKey As String
Local loNode As Object
Local loParent As Node

Try
	With This As prxtreeviewcontrol Of FW\Comunes\VCX\BaseControls.vcx
		loNode = Null
		lcKey = ""
		If Empty( tnImage )
			tnImage = 0

		Endif && Empty( tnImage )

		If Empty( tnSelectedImage )
			tnSelectedImage = 0

		Endif && Empty( tnSelectedImage )

		If Empty( tcNodeKey )
			lcKey = .NewKey()

		Else
			lcKey = tcNodeKey

		Endif && Empty( tcNodeKey )

		lnRelation = tvw_Child

		If Vartype( .ImageList ) # 'O'
			loNode = .Nodes.Add( tcRelativeNodeKey, lnRelation, lcKey, tcNodeText )

		Else
			loNode = .Nodes.Add( tcRelativeNodeKey, lnRelation, lcKey, tcNodeText, tnImage, tnSelectedImage )

		Endif && Vartype( .ImageList ) # 'O'

		loParent = loNode.Parent
		loParent.Sorted = This.Sorted

		If tlRefresh
			.Refresh()
		Endif

	EndWith
	

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Ctracelogin = loError.Ctracelogin + CR ;
		+ "tcNodeText: " + Transform( tcNodeText ) + CR ;
		+ "tcNodeKey: " + Transform( tcNodeKey )  + CR ;
		+ "lcKey: " + Transform( lcKey )  + CR ;
		+ "tcRelativeNodeKey: " + Transform( tcRelativeNodeKey ) + CR ;
		+ "tnImage: " + Transform( tnImage ) + CR ;
		+ "tnSelectedImage: " + Transform( tnSelectedImage ) + CR ;
		+ "PCount(): " + Transform( Pcount() )
	loError.Process( oErr )
	Throw loError

Finally
	loParent = Null

Endtry

Return loNode

ENDPROC
PROCEDURE addlast
Lparameters tcNodeText As String, ;
	tcNodeKey As String, ;
	tcRelativeNodeKey As String,;
	tnImage As Integer, ;
	tnSelectedImage As Integer

#INCLUDE "FW\Comunes\Include\Praxis.h"

Local lnRelation As Integer
Local lcKey As String
Local loNode As Object
Local loParent as Object

Try
	With This As prxtreeviewcontrol Of FW\Comunes\VCX\BaseControls.vcx
		loNode = Null
		If Empty( tnImage )
			tnImage = 0

		Endif && Empty( tnImage )

		If Empty( tnSelectedImage )
			tnSelectedImage = 0

		Endif && Empty( tnSelectedImage )

		If Empty( tcNodeKey )
			lcKey = .NewKey()

		Else
			lcKey = tcNodeKey

		Endif && Empty( tcNodeKey )
		lnRelation = tvw_Last
		If Vartype( .ImageList ) # 'O'
			loNode = .Nodes.Add( tcRelativeNodeKey, lnRelation, lcKey, tcNodeText )

		Else
			loNode = .Nodes.Add( tcRelativeNodeKey, lnRelation, lcKey, tcNodeText, tnImage, tnSelectedImage )

		Endif && Vartype( .ImageList ) # 'O'
		
		loParent = loNode.Parent
		loParent.Sorted = This.Sorted
		
		.Refresh()

	Endwith



Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Ctracelogin = loError.Ctracelogin + CR ;
		+ "tcNodeText: " + Transform( tcNodeText ) + CR ;
		+ "tcNodeKey: " + Transform( tcNodeKey )  + CR ;
		+ "tcRelativeNodeKey: " + Transform( tcRelativeNodeKey ) + CR ;
		+ "tnImage: " + Transform( tnImage ) + CR ;
		+ "tnSelectedImage: " + Transform( tnSelectedImage ) + CR ;
		+ "PCount(): " + Transform( Pcount() )

	loError.Process( oErr )
	Throw loError

Finally
	loError = Null

Endtry

Return loNode



ENDPROC
PROCEDURE addnext
Lparameters tcNodeText As String, ;
	tcNodeKey As String, ;
	tcRelativeNodeKey As String,;
	tnImage As Integer, ;
	tnSelectedImage As Integer

#INCLUDE "FW\Comunes\Include\Praxis.h"

Local lnRelation As Integer
Local lcKey As String
Local loNode As MSComctlLib.Node
Local loParent as Object

Try
	With This As prxtreeviewcontrol Of FW\Comunes\VCX\BaseControls.vcx
		loNode = Null
		If Empty( tnImage )
			tnImage = 0

		Endif && Empty( tnImage )

		If Empty( tnSelectedImage )
			tnSelectedImage = 0

		Endif && Empty( tnSelectedImage )

		If Empty( tcNodeKey )
			lcKey = .NewKey()

		Else
			lcKey = tcNodeKey

		Endif && Empty( tcNodeKey )

		lnRelation = tvw_Next
		If Vartype( .ImageList ) # 'O'
			loNode = .Nodes.Add( tcRelativeNodeKey, lnRelation, lcKey, tcNodeText )

		Else
			loNode = .Nodes.Add( tcRelativeNodeKey, lnRelation, lcKey, tcNodeText, tnImage, tnSelectedImage )

		Endif && Vartype( .ImageList ) # 'O'
		
		loParent = loNode.Parent
		loParent.Sorted = This.Sorted
		
		.Refresh()

	Endwith

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Ctracelogin = loError.Ctracelogin + CR ;
		+ "tcNodeText: " + Transform( tcNodeText ) + CR ;
		+ "tcNodeKey: " + Transform( tcNodeKey )  + CR ;
		+ "tcRelativeNodeKey: " + Transform( tcRelativeNodeKey ) + CR ;
		+ "tnImage: " + Transform( tnImage ) + CR ;
		+ "tnSelectedImage: " + Transform( tnSelectedImage ) + CR ;
		+ "PCount(): " + Transform( Pcount() )
		
	loError.Process( oErr )
	Throw loError

Finally
	
	loParent = Null

Endtry

Return loNode



ENDPROC
PROCEDURE addprevious
Lparameters tcNodeText As String, ;
	tcNodeKey As String, ;
	tcRelativeNodeKey As String,;
	tnImage As Integer, ;
	tnSelectedImage As Integer

#INCLUDE "FW\Comunes\Include\Praxis.h"

Local lnRelation As Integer
Local lcKey As String
Local loNode As Object
Local loParent as Object

Try
	With This As prxtreeviewcontrol Of FW\Comunes\VCX\BaseControls.vcx
		loNode = Null
		If Empty( tnImage )
			tnImage = 0
		Endif
		If Empty( tnSelectedImage )
			tnSelectedImage = 0
		Endif
		If Empty( tcNodeKey )
			lcKey = .NewKey()
		Else
			lcKey = tcNodeKey
		Endif
		lnRelation = tvw_Previous
		If Vartype( .ImageList ) # 'O'
			loNode = .Nodes.Add( tcRelativeNodeKey, lnRelation, lcKey, tcNodeText )
			
		Else
			loNode = .Nodes.Add( tcRelativeNodeKey, lnRelation, lcKey, tcNodeText, tnImage, tnSelectedImage )
			
		EndIf

		loParent = loNode.Parent
		loParent.Sorted = This.Sorted
		
		.Refresh()
		
	EndWith
	
Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )

	loError.Ctracelogin = loError.Ctracelogin + CR ;
		+ "tcNodeText: " + Transform( tcNodeText ) + CR ;
		+ "tcNodeKey: " + Transform( tcNodeKey )  + CR ;
		+ "tcRelativeNodeKey: " + Transform( tcRelativeNodeKey ) + CR ;
		+ "tnImage: " + Transform( tnImage ) + CR ;
		+ "tnSelectedImage: " + Transform( tnSelectedImage ) + CR ;
		+ "PCount(): " + Transform( Pcount() )
	loError.Process( oErr )
	Throw loError
	
Finally
	
	loParent = Null
	
Endtry

Return loNode

ENDPROC
PROCEDURE addroot
Lparameters tcNodeText As String, ;
	tcNodeKey As String, ;
	tnImage As Integer, ;
	tnSelectedImage As Integer

#INCLUDE "FW\Comunes\Include\Praxis.h"

Local lnRelation As Integer
Local lcKey As String
Local tcRelativeNodeKey As String
Local loNode As Object


Try
	With This As treeviewcontainer Of fw\comunes\vcx\draganddrop.vcx
		loNode = Null
		lcKey = ""
		
		If Empty( tnImage )
			tnImage = 0
		Endif
		If Empty( tnSelectedImage )
			tnSelectedImage = 0
		Endif
		If Empty( tcNodeKey )
			lcKey = .NewKey()
		Else
			lcKey = tcNodeKey
		Endif
		lnRelation = tvw_First
		If Vartype( .ImageList ) # 'O'
			loNode = .Nodes.Add( , lnRelation, lcKey, tcNodeText )
			
		Else
			loNode = .Nodes.Add( , lnRelation, lcKey, tcNodeText, tnImage, tnSelectedImage )
			
		EndIf
		
		This.Sorted = This.Sorted
		
		.Refresh()
		
	Endwith
Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )

	loError.Ctracelogin = loError.Ctracelogin + CR ;
		+ "tcNodeText: " + Transform( tcNodeText ) + CR ;
		+ "tcNodeKey: " + Transform( tcNodeKey )  + CR ;
		+ "lcKey: " + Transform( lcKey )  + CR ;
		+ "tnImage: " + Transform( tnImage ) + CR ;
		+ "tnSelectedImage: " + Transform( tnSelectedImage ) + CR ;
		+ "PCount(): " + Transform( Pcount() )
	loError.Process( oErr )
	Throw loError
	
Finally
	
	
Endtry

Return loNode

ENDPROC
PROCEDURE classaftersetselected
Lparameters toNode As MSComctlLib.Node

ENDPROC
PROCEDURE classbeforesetselected
Lparameters tcItemKey As String @

Return .T.

ENDPROC
PROCEDURE clear

Local loNode As MSComctlLib.Node
Local loNodes As MSComctlLib.Nodes

Try
	With This As prxtreeviewcontrol Of fw\comunes\vcx\BaseControls.vcx
		* Elimino las referencias
		loNodes = .Nodes
		For Each loNode As MSComctlLib.Node In loNodes
			loNode.Tag = Null

		Endfor

		loNodes.Clear()
		
		DoDefault()

	Endwith

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )

	loError.Process( oErr )
	Throw loError

Finally
	loNode = Null

	loNodes = Null

Endtry

ENDPROC
PROCEDURE enabled_assign
Lparameters vNewVal As Boolean

This.Enabled = m.vNewVal
This.Object.Enabled = m.vNewVal
ENDPROC
PROCEDURE fontsize_assign
Lparameters vNewVal As Integer
Local lnOldValue As Integer
Try
    lnOldValue = This.Font.Size
    This.Font.Size = m.vNewVal
    This.FontSize = m.vNewVal

Catch To oErr
    This.Font.Size = lnOldValue
    This.FontSize = lnOldValue

Finally
Endtry

ENDPROC
PROCEDURE getmeasures

Local loCtrlMeasures As ControlMeasures Of 'FW\Comunes\prg\autosetup.prg'

Try
	loCtrlMeasures = Newobject( 'ControlMeasures', 'fw\comunes\prg\autosetup.prg' )
	With This As ccmarcobase Of FW\Comunes\vcx\controles_varios.vcx
		loCtrlMeasures.Width = .Width
		loCtrlMeasures.Height = .Height
		loCtrlMeasures.nDatoWidth = .Width
		loCtrlMeasures.nDatoHeight = .Height
		* Label
		loCtrlMeasures.lLabelOnTop = .F.
		loCtrlMeasures.nLabelWidth = 0
		loCtrlMeasures.nLabelHeight = 0
		
	EndWith
	
Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )

	loError.Process( oErr )
	Throw loError
	
Finally
	
	
Endtry

Return loCtrlMeasures

ENDPROC
PROCEDURE hookaftersetselected
Lparameters toNode As MSComctlLib.Node

ENDPROC
PROCEDURE hookbeforesetselected
Lparameters tcItemKey As String @

Return .T.

ENDPROC
PROCEDURE item
Lparameters eIndex As Variant


Local llOk As Boolean
Local loNode As MSComctlLib.Node
Try
    With This As prxtreeviewcontrol Of FW\Comunes\vcx\BaseControls.vcx
        Try
            llOk = .T.
            loNode = .Nodes.Item( eIndex )

        Catch To oErr
            llOk = .F.

        Endtry
        If ! llOk
            Error 'No existe el nodo ' + Transform( eIndex )

        EndIf && ! llOk

    EndWith

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )

    loError.Process( oErr )
    Throw loError

Finally


EndTry

Return loNode



ENDPROC
PROCEDURE newkey

Return Sys( 2015 ) + '_'
ENDPROC
PROCEDURE oentity_access

Return This.oEntity


ENDPROC
PROCEDURE remove
Lparameters eIndex As Variant


Local llOk As Boolean
Local loNode As MSComctlLib.Node
Try
    With This As prxtreeviewcontrol Of FW\Comunes\vcx\BaseControls.vcx
        Try
            llOk = .T.
            loNode = .Nodes.Item( eIndex )
        Catch To oErr
            llOk = .F.

        EndTry

        If llOk
            loNode.Tag = Null
            .Nodes.Remove( eIndex )

        Else
            Error 'No existe el nodo ' + Transform( eIndex )

        EndIf && llOk

    EndWith

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
    loError.Process( oErr )
    Throw loError

Finally

    loNode = Null

Endtry


ENDPROC
PROCEDURE resetnodes
With This As prxtreeviewcontrol Of FW\Comunes\vcx\BaseControls.vcx
    For Each loNode In .nodes
        loNode.BackColor = Rgb( 255, 255, 255 )
    Endfor
Endwith

ENDPROC
PROCEDURE setselected
Lparameters tcItemKey As String

Local loNode As MSComctlLib.Node


Try
	With This As prxtreeviewcontrol Of fw\comunes\vcx\BaseControls.vcx
		This.oSelected = Null
		loNode = Null
		If .Nodes.Count > 0
			If .ClassBeforeSetSelected( @tcItemKey )
				If .HookBeforeSetSelected( @tcItemKey )
					If ! Empty( tcItemKey )
						loNode = .Nodes.Item( tcItemKey )
						If Vartype( loNode ) = 'O'
							With loNode As MSComctlLib.Node
								.Selected = .T.
								.EnsureVisible()
								This.oSelected = loNode

							EndWith

						Endif && Vartype( loNode ) = 'O'

					Else
						.SelectedItem = Null

					Endif && ! Empty( tcItemKey )

					.HookAfterSetSelected( loNode )

					.ClassAfterSetSelected( loNode )

					.Refresh()

				Endif && .HookAfterSetSelected( @tcItemKey )

			Endif && .ClassBeforeSetSelected( @tcItemKey )

		Endif && .Nodes.Count > 0
	Endwith
Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )

	loError.Process( oErr )
	Throw loError

Finally
	loNode = Null
	

Endtry

ENDPROC
[END METHODS]
[BINSTART OLE]
CHECKSUM=43271
[BINEND OLE]
[BINSTART OLE2]
CHECKSUM=57702
[BINEND OLE2]
[START RESERVED1]
Class[END RESERVED1]
[START RESERVED2]
1[END RESERVED2]
[START RESERVED3]
_memberdata XML Metadata for customizable properties
fontsize Specifies the font size for text displayed with an object.
lautosetup
lperformautosetup
ntoppadding Distanciainterna entre los controles y el borde superior
nbottompadding Distanciainterna entre los controles y el borde inferiro
nleftpadding Distanciainterna entre los controles y el borde izquierdo
nrightpadding Distanciainterna entre los controles y el borde derecho
ngap Distancia entre controles
nrowspan
nrow
ncolspan
ncol Distanciainterna entre los controles y el borde izquierdo
oentity
lforcereadonly Fuerza que el control no tome el foco
oselected
*addchild 
*addlast 
*addnext 
*addprevious 
*addroot 
*newkey 
*setselected 
*classbeforesetselected 
*classaftersetselected 
*hookbeforesetselected 
*hookaftersetselected 
*fontsize_assign 
*enabled_assign 
*classbeforeinit 
*classafterinit 
*hookbeforeinit 
*hookafterinit 
*clear Clears the contents of a ComboBox or ListBox control.
*remove Elimina un nodo
*item Returns a specified member of a Collection object.
*resetnodes 
*autosetup 
*getmeasures 
*oentity_access 
[END RESERVED3]
[START RESERVED6]
Pixels[END RESERVED6]

[ RECORD]
[PLATFORM] COMMENT 
[UNIQUEID] RESERVED  
[OBJNAME] prxtreeviewcontrol
[START RESERVED1]
  ..\include\praxis.h&~lA@ ..\include\foxpro.h.*z
; ..\include\strings.h6:[é:[END RESERVED1]

[ RECORD]
[PLATFORM] WINDOWS 
[UNIQUEID] _2340OJHE8
[CLASS] olecontrol
[BASECLASS] olecontrol
[OBJNAME] prxlistviewcontrol
[START PROPERTIES]
Height = 100
Width = 100
Name = "prxlistviewcontrol"
[END PROPERTIES]
[BINSTART OLE]
CHECKSUM=56533
[BINEND OLE]
[BINSTART OLE2]
CHECKSUM=26800
[BINEND OLE2]
[START RESERVED1]
Class[END RESERVED1]
[START RESERVED2]
1[END RESERVED2]
[START RESERVED6]
Pixels[END RESERVED6]

[ RECORD]
[PLATFORM] COMMENT 
[UNIQUEID] RESERVED  
[OBJNAME] prxlistviewcontrol

[ RECORD]
[PLATFORM] WINDOWS 
[UNIQUEID] _2MU0POCWQ
[CLASS] page
[BASECLASS] page
[OBJNAME] prxpage
[START PROPERTIES]
Caption = "Page1"
Height = 276
Width = 469
_memberdata =     2699<VFPData><memberdata name="execute" type="method" display="Execute"/><memberdata name="hookbeforeexecute" type="method" display="HookBeforeExecute"/><memberdata name="hookafterexecute" type="method" display="HookAfterExecute"/><memberdata name="classbeforeexecute" type="method" display="ClassBeforeExecute"/><memberdata name="classafterexecute" type="method" display="ClassAfterExecute"/><memberdata name="otarget" type="property" display="oTarget"/><memberdata name="otarget_access" type="method" display="oTarget_Access"/><memberdata name="ctarget" type="property" display="cTarget"/><memberdata name="ocolobjects" type="property" display="oColObjects"/><memberdata name="isactive" type="property" display="IsActive"/><memberdata name="cpagename" type="property" display="cPageName"/><memberdata name="nheight" type="property" display="nHeight"/><memberdata name="nwidth" type="property" display="nWidth"/><memberdata name="lisactive" type="property" display="lIsActive"/><memberdata name="id" type="property" display="Id"/><memberdata name="id_access" type="method" display="Id_Access"/><memberdata name="llazyloaddone" type="property" display="lLazyLoadDone"/><memberdata name="oentity" type="property" display="oEntity"/><memberdata name="oentity_access" type="method" display="oEntity_Access"/><memberdata name="oimagelist" type="property" display="oImageList"/><memberdata name="oimagelist_access" type="method" display="oImageList_Access"/><memberdata name="releaseobjects" type="method" display="ReleaseObjects"/><memberdata name="autosetup" type="method" display="AutoSetup"/><memberdata name="classbeforeautosetup" type="method" display="ClassBeforeAutoSetup"/><memberdata name="classafterautosetup" type="method" display="ClassAfterAutoSetup"/><memberdata name="hookbeforeautosetup" type="method" display="HookBeforeAutoSetup"/><memberdata name="hookafterautosetup" type="method" display="HookAfterAutoSetup"/><memberdata name="fittoparent" type="method" display="FitToParent"/><memberdata name="ntoppadding" type="property" display="nTopPadding"/><memberdata name="nleftpadding" type="property" display="nLeftPadding"/><memberdata name="nrightpadding" type="property" display="nRightPadding"/><memberdata name="nbottompadding" type="property" display="nBottomPadding"/><memberdata name="ngap" type="property" display="nGap"/><memberdata name="lperformautosetup" type="property" display="lPerformAutoSetup"/><memberdata name="ckeyname" type="property" display="cKeyName" favorites="True"/><memberdata name="ckeyname_access" type="method" display="cKeyName_Access"/><memberdata name="height" display="Height"/><memberdata name="lvisible" display="lVisible" favorites="True"/></VFPData>

otarget = .NULL.
ctarget = ThisForm
ocolobjects = .NULL.
cpagename = 
nheight = 0
nwidth = 0
lisactive = .F.
id = 
llazyloaddone = .F.
oentity = .NULL.
oimagelist = .NULL.
ntoppadding = 8
nleftpadding = 8
nrightpadding = 8
nbottompadding = 8
ngap = 8
lperformautosetup = .T.
ckeyname = 
lvisible = .T.
Name = "prxpage"
[END PROPERTIES]
[START PROTECTED]
classbeforeexecute
classafterexecute
classbeforeautosetup
classafterautosetup
[END PROTECTED]
[START METHODS]
PROCEDURE Activate

#INCLUDE "FW\TierAdapter\Include\TA.h"

Local loPage As prxpage Of FW\Comunes\vcx\BaseControls.vcx
Local loCombo As ComboBox

Try
	With This As prxpage Of FW\Comunes\vcx\BaseControls.vcx
		For Each loPage In .Parent.Pages
			loPage.lIsActive = .F.
			loPage.FontBold = .F.
		Endfor
		.lIsActive = .T.
		.FontBold = .T.
		.Parent.oActivePage = This

		If ! .lLazyLoadDone
			.Parent.LazyLoad( This )
			.lLazyLoadDone = .T.
		Endif

		If Pemstatus( Thisform, "nProcessType", 5 ) ;
			And Thisform.nProcessType = TR_NEW
			
			For Each loCombo In Thisform.oColCombos
				If loCombo.Visible ;
						And Lower( loCombo.cBelongToPage ) == Lower( .cPageName )
					If Empty( loCombo.Value )
						loCombo.SetDefault()
					Endif
				Endif
			Endfor
		Endif

	EndWith

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Process( oErr )
	Throw loError


Finally
	loPage = Null

Endtry

ENDPROC
PROCEDURE Init

This.Id = Sys( 2015 )
If !This.lVisible
	This.Caption = ""
	This.Enabled = .F.
EndIf


ENDPROC
PROCEDURE MouseEnter
Lparameters nButton, nShift, nXCoord, nYCoord

If This.Enabled
	This.MousePointer = 15

Endif

ENDPROC
PROCEDURE MouseLeave
Lparameters nButton, nShift, nXCoord, nYCoord

This.MousePointer = 0

ENDPROCPROCEDURE autosetup
Lparameters tlOnlyPosition As Boolean

#INCLUDE 'FW\Comunes\Include\Praxis.h'

Local loAutoSetup As AutoSetUp Of 'FW\Comunes\Prg\AutoSetUp.prg'
Local loPage As Page
Local loObj As Object
Local lnMaxHeight As Integer
Local lnMaxWidth As Integer
Local lnFS As Integer

Try
	With This As prxpage Of fw\comunes\vcx\BaseControls.vcx

		If .ClassBeforeAutoSetup( tlOnlyPosition )
			If .HookBeforeAutoSetup( tlOnlyPosition )
				If .lPerformAutoSetup
					.oColObjects = OrderControlsByKey( This )
					loAutoSetup = Newobject( 'AutoSetUp', 'AutoSetUp.prg' )
					If ! loAutoSetup.Process( This,;
							.nTopPadding,;
							.nLeftPadding,;
							.nRightPadding,;
							.nBottomPadding,;
							.nGap )
						loError = Thisform.oError
						Thisform.cXMLoError = loError.Process( loAutoSetup.oError )
						Throw loError
					Endif
					.HookAfterAutoSetup( tlOnlyPosition )
					.ClassAfterAutoSetup( tlOnlyPosition )
				Endif
			Endif
		Endif
	EndWith
	
Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	
	loError.Process( oErr )
	Throw loError

Finally
	loAutoSetup = Null

Endtry

ENDPROC
PROCEDURE ckeyname_access

With This As prxpage Of fw\comunes\vcx\BaseControls.vcx
    If Vartype( .cKeyName ) # 'C' Or Empty( .cKeyName )
        .cKeyName  = .Name

    EndIf && Vartype( .cKeyName ) # 'C' Or Empty( .cKeyName )

EndWith

Return This.cKeyName

ENDPROC
PROCEDURE classafterautosetup
Lparameters tlOnlyPosition As Boolean
ENDPROC
PROCEDURE classbeforeautosetup
Lparameters tlOnlyPosition As Boolean

Return .T.

ENDPROC
PROCEDURE classbeforeexecute
Lparameters tcMethod As String @, tcParameters As String @
ENDPROC
PROCEDURE execute
Lparameters tcMethod As String, tcParameters As String

Local loTarget As Object
Local loControl As Object
Local lcParameters As String
Local lcMethod As String

Try
    lcMethod = Alltrim( tcMethod )
    If Pcount() = 2
        lcParameters = Alltrim( tcParameters )
    Else
        lcParameters = ''
    Endif

    With This As prxPage Of fw\comunes\vcx\BaseControls.vcx
        If .ClassBeforeExecute( @lcMethod, @lcParameters )
            If .HookBeforeExecute( @lcMethod, @lcParameters )
                loTarget = .oTarget
                * Verifica que el loTarget tenga el método tcMethod
                If Pemstatus( loTarget, lcMethod, 5 )
                    * Si el objeto es un contenedor, y tiene un control activo,
                    * obtiene el foco para forzar la actualizacion del valor
                    If Pemstatus( loTarget, "ActiveControl", 5 ) And Vartype( loTarget.ActiveControl ) = "O"
                        loControl = loTarget.ActiveControl
                        If Pemstatus( loControl, "SetFocus", 5 )
                            loControl.SetFocus()
                        Endif
                    Endif
                    * Arma la lista de parámetros
                    lcParameters = Iif( Empty( lcParameters), '', "( "+ lcParameters +" )" )
                    * Ejecuta el Método
                    loTarget.&lcMethod &lcParameters
                    .HookAfterExecute()
                    .ClassAfterExecute()
                Endif
            Endif
        Endif
    EndWith

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Process( oErr )
	Throw loError

Finally
    loTarget = Null
    loControl = Null
Endtry


ENDPROC
PROCEDURE fittoparent


Local loCtl As Object

Try
	With This As prxpage Of FW\Comunes\vcx\BaseControls.vcx
		For Each loCtl In .Objects
			If Pemstatus( loCtl, 'lFitToParent', 5 ) And loCtl.lFitToParent
				loCtl.FitToParent()
			Endif
		Endfor
	Endwith

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Cremark = lcCommand
	loError.Process( oErr )
	Throw loError

Finally
	
	
EndTry

ENDPROC
PROCEDURE hookafterautosetup
Lparameters tlOnlyPosition As Boolean
ENDPROC
PROCEDURE hookbeforeautosetup
Lparameters tlOnlyPosition As Boolean

Return .T.

ENDPROC
PROCEDURE hookbeforeexecute
Lparameters tcMethod As String @, tcParameters As String @
ENDPROC
PROCEDURE id_access

With This As prxpage Of FW\Comunes\vcx\BaseControls.vcx
    If Vartype( .Id ) # 'C' Or Empty( .Id )
        .Id = Sys( 2015 )
    Endif
EndWith

Return This.Id

ENDPROC
PROCEDURE oentity_access

Try
    With This As prxpageframe Of fw\comunes\vcx\BaseControls.vcx
        If Vartype( .oEntity ) # 'O' And !Thisform.lExit
            .oEntity = .Parent.oEntity
        Endif
    Endwith

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Process( oErr )
	Throw loError

Finally
	
	
EndTry

Return This.oEntity

ENDPROC
PROCEDURE oimagelist_access

Return This.oImageList



ENDPROC
PROCEDURE otarget_access
Local lcTarget As String
With This As optionpanelbase Of fw\comunes\vcx\prxmainform.vcx
    If Vartype( .oTarget ) # 'O'
        lcTarget = .cTarget
        .oTarget = &lcTarget
    Endif
Endwith
Return This.oTarget

ENDPROC
PROCEDURE releaseobjects

Local loObj As Object

Try
    With This As prxpage Of FW\Comunes\vcx\BaseControls.vcx
        .oColObjects = Null
        .oImageList = Null
        For Each loObj In .Objects
            If Pemstatus( loObj, 'ReleaseObjects', 5 )
                loObj.ReleaseObjects()
            Endif
        Endfor
    Endwith

Catch To oErr
	Local loError As ErrorHandler Of "Tools\ErrorHandler\Prg\ErrorHandler.prg"
	loError = Newobject( "ErrorHandler", "ErrorhandlerPrg\ErrorHandler.prg" )
	loError.Process( oErr )
	Throw loError

Finally
    loObj = Null
Endtry

ENDPROC
[END METHODS]
[START RESERVED1]
Class[END RESERVED1]
[START RESERVED2]
2[END RESERVED2]
[START RESERVED3]
_memberdata XML Metadata for customizable properties
otarget
ctarget
ocolobjects
cpagename
nheight
nwidth
lisactive
id
llazyloaddone
oentity Acceso a oEntity
oimagelist
ntoppadding
nleftpadding
nrightpadding
nbottompadding
ngap
lperformautosetup
ckeyname Es el código único para identificar el control
lvisible
*execute 
*hookbeforeexecute 
*hookafterexecute 
*classbeforeexecute 
*classafterexecute 
*otarget_access 
*id_access 
*oentity_access 
*oimagelist_access 
*releaseobjects 
*autosetup 
*classbeforeautosetup 
*classafterautosetup 
*hookbeforeautosetup 
*hookafterautosetup 
*fittoparent 
*ckeyname_access 
[END RESERVED3]
[START RESERVED6]
Pixels[END RESERVED6]

[ RECORD]
[PLATFORM] WINDOWS 
[UNIQUEID] _3M50WSFZC
[CLASS] marco
[CLASSLOC] marcos.vcx
[BASECLASS] container
[OBJNAME] Marco
[PARENT] prxpage
[START PROPERTIES]
Top = 6
Left = 6
Width = 450
Height = 258
Name = "Marco"
Shape.Name = "Shape"
shpLabel.Name = "shpLabel"
lblTitulo.Name = "lblTitulo"
[END PROPERTIES]

[ RECORD]
[PLATFORM] COMMENT 
[UNIQUEID] RESERVED  
[OBJNAME] prxpage
[START RESERVED1]
  ..\include\praxis.h^>lA@ ..\include\foxpro.hf?*z
; ..\include\strings.hn@:[é: ..\..\tieradapter\include\ta.hvAbn1@[END RESERVED1]
[EOF]
